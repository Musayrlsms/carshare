{"version":3,"file":"index.js","sources":["../src/utility.js","../src/SlideshowLightbox.tsx","../src/AnimImage.tsx","../src/index.tsx"],"sourcesContent":["import { useState, useCallback, useEffect, useRef } from \"react\";\r\n\r\nexport const wrapNums = (minNum, maxNum, v) => {\r\n      let rangeSize = maxNum - minNum;\r\n      return ((((v - minNum) % rangeSize) + rangeSize) % rangeSize) + minNum;\r\n};\r\n\r\nexport const shouldAutoplay = (elem) => {\r\n  // Autoplay for HTML5 Video elems set to true by default\r\n  // Autoplay is off by default for YouTube embeds\r\n\r\n  if (elem.type == 'yt' && elem.autoPlay != true && elem.autoPlay != 'true') {\r\n    return false\r\n  } else if (elem.autoPlay == false || elem.autoPlay == 'false') {\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\nexport const getVideoHeight = (elem) => {\r\n  if (elem.videoHeight) {\r\n    return elem.videoHeight\r\n  }\r\n  return \"200\"\r\n}\r\n\r\nexport const getVideoWidth = (elem) => {\r\n  if (elem.videoWidth) {\r\n    return elem.videoWidth\r\n  }\r\n  return \"900\"\r\n}\r\n\r\nexport const useInterval = (callback, timeDelay) => {\r\n      const savedCallbackRef = useRef();\r\n    \r\n      useEffect(() => {\r\n        savedCallbackRef.current = callback;\r\n      }, [callback]);\r\n    \r\n      useEffect(() => {\r\n        function tick() {\r\n          savedCallbackRef.current();\r\n        }\r\n        if (timeDelay !== null) {\r\n          // Set the interval\r\n          let intervalID = setInterval(tick, timeDelay);\r\n\r\n          // Remove the interval\r\n          return () => clearInterval(intervalID);\r\n        }\r\n      }, [timeDelay]);\r\n}\r\n\r\nexport const openFullScreen = (lightbox_elem) => {\r\n  if (lightbox_elem.requestFullscreen) {\r\n    lightbox_elem.requestFullscreen();\r\n  } \r\n\r\n  /* Safari */\r\n  else if (lightbox_elem.webkitRequestFullscreen) { \r\n    lightbox_elem.webkitRequestFullscreen();\r\n  } \r\n  \r\n  /* Internet Explorer */\r\n  else if (lightbox_elem.msRequestFullscreen) { \r\n    lightbox_elem.msRequestFullscreen();\r\n  }\r\n}\r\n\r\nexport const closeFullScreen = (document) => {\r\n  if (document.exitFullscreen) {\r\n    document.exitFullscreen();\r\n  } \r\n\r\n  /* Safari */\r\n  else if (document.webkitExitFullscreen) { \r\n    document.webkitExitFullscreen();\r\n  } \r\n  \r\n  /* Internet Explorer */\r\n  else if (document.msExitFullscreen) { \r\n    document.msExitFullscreen();\r\n  }\r\n}\r\n\r\nexport const swipePower = (offset, velocity) => {\r\n    return Math.abs(offset) * velocity;\r\n};\r\n\r\nexport const isBrowser = () => typeof window !== \"undefined\"\r\n\r\n","import * as React from 'react'\r\nimport { useState, useEffect, useRef } from 'react'\r\nimport { motion, AnimatePresence, AnimateSharedLayout } from 'framer-motion'\r\nimport styles from './styles.module.css'\r\nimport axios from \"axios\";\r\nimport {\r\n  wrapNums,\r\n  getVideoHeight,\r\n  getVideoWidth,\r\n  shouldAutoplay,\r\n  openFullScreen,\r\n  closeFullScreen,\r\n} from './utility'\r\nimport {\r\n  ZoomIn,\r\n  ZoomOut,\r\n  Fullscreen,\r\n  PlayCircleFill,\r\n  Search,\r\n  Download,\r\n  PauseCircleFill,\r\n  FullscreenExit,\r\n  XLg,\r\n  GridFill\r\n} from 'react-bootstrap-icons'\r\nimport ScrollContainer from 'react-indiana-drag-scroll'\r\nimport Magnifier from 'react-magnifier'\r\nimport { Portal } from 'react-portal'\r\nimport { TransformWrapper, TransformComponent, ReactZoomPanPinchRef, } from 'react-zoom-pan-pinch'\r\nimport ReactSwipe from 'react-swipe'\r\nimport { saveAs } from 'file-saver'\r\nimport Div100vh from 'react-div-100vh'\r\nimport KeyHandler from 'react-key-handler'\r\nimport { useIsomorphicLayoutEffect } from 'usehooks-ts'\r\nimport { useInterval } from 'usehooks-ts'\r\n\r\n\r\nlet thumbnailVariants: any = {\r\n  visible: { opacity: 1, y: 0 },\r\n  hidden: { opacity: 0, y: 100 }\r\n}\r\n\r\nconst themes: any = {\r\n  day: {\r\n    background: 'white',\r\n    iconColor: 'black',\r\n    thumbnailBorder: 'solid transparent 2px',\r\n    textColor: 'black'\r\n  },\r\n  night: {\r\n    background: '#151515',\r\n    iconColor: '#626b77',\r\n    thumbnailBorder: 'solid rgb(107, 133, 206)  2px',\r\n    textColor: '#626b77'\r\n  },\r\n  lightbox: {\r\n    background: 'rgba(12, 12, 12, 0.93)',\r\n    iconColor: '#626b77',\r\n    thumbnailBorder: 'solid rgb(107, 133, 206) 2px',\r\n    textColor: 'silver'\r\n  }\r\n}\r\n\r\n// const activeThumbnailBorder = 'solid rgba(107, 133, 206, 0.6) 2px'\r\nconst inactiveThumbnailBorder = 'solid transparent 2px'\r\n\r\nconst imgSwipeDirection = 'x'\r\nconst defaultTheme = 'night'\r\nconst mobileWidth = 768\r\n\r\ninterface SlideItem {\r\n  src?: any,\r\n  original?: string,\r\n  type?: string,\r\n  alt?: string,\r\n}\r\n\r\ninterface ImageElement {\r\n  src?: any,\r\n  alt?: string,\r\n  loaded?: string,\r\n}\r\n\r\nexport const SlideshowLightbox = (props: any) => {\r\n\r\n  const createCustomThumbnailBorder = (): string | void => {\r\n    if (props.thumbnailBorder) {\r\n      return `solid ${props.thumbnailBorder} 2px`\r\n    }\r\n  }\r\n\r\n  const [[imgSlideIndex, direction], setImgSlideIndex] = useState([0, 0])\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [isSlideshowPlaying, setIsSlideshowPlaying] = useState(false)\r\n\r\n  const [images, setImages] = useState<SlideItem[]>([]);\r\n\r\n  const [magnifyingGlassFeature, _setMagnifyingGlassFeature] = useState(\r\n    props.magnifyingGlass ? props.magnifyingGlass : false\r\n  )\r\n\r\n  const [disableZoom, setDisableZoom] = useState(\r\n    props.disableImageZoom ? props.disableImageZoom : false\r\n  )\r\n\r\n  const [previewImageElems, setPreviewImageElems] = useState<any[]>([]);\r\n\r\n  const slideIndex = wrapNums(0, images.length, imgSlideIndex)\r\n  const [reactSwipeOptions, setReactSwipeOptions] = useState({\r\n    continuous: true,\r\n    startSlide: 0,\r\n    stopPropagation: true\r\n  })\r\n\r\n  const [slideshowInterval, setSlideshowInterval] = useState(\r\n    props.slideshowInterval ? props.slideshowInterval : 1100\r\n  )\r\n\r\n  const [rightArrowStyle, setRightArrowStyle] = useState(\r\n    props.rightArrowStyle ? props.rightArrowStyle : {}\r\n  )\r\n\r\n  const [leftArrowStyle, setLeftArrowStyle] = useState(\r\n    props.leftArrowStyle ? props.leftArrowStyle : {}\r\n  )\r\n\r\n  const [zoomedIn, setZoomedIn] = useState(false)\r\n\r\n  const [isRounded, setIsRounded] = useState(\r\n    props.roundedImages ? props.roundedImages : false\r\n  )\r\n\r\n  const [isOpen, setIsOpen] = useState(false)\r\n\r\n  const [showControls, setShowControls] = useState(\r\n    props.showControls ? props.showControls : true\r\n  )\r\n\r\n  const [displayFullScreenIcon, setDisplayFullScreenIcon] = useState(\r\n    props.showFullScreenIcon ? props.showFullScreenIcon : true\r\n  )\r\n\r\n  const [displayThumbnailIcon, setDisplayThumbnailIcon] = useState(\r\n    props.showThumbnailIcon ? props.showThumbnailIcon : true\r\n  )\r\n\r\n  const [displaySlideshowIcon, setDisplaySlideshowIcon] = useState(\r\n    props.showSlideshowIcon ? props.showSlideshowIcon : true\r\n  )\r\n\r\n  const [displayMagnificationIcons, setDisplayMagnificationIcons] = useState(\r\n    props.showMagnificationIcons ? props.showMagnificationIcons : true\r\n  )\r\n\r\n  const [nextArrowElem, setNextArrowElem] = useState(\r\n    props.nextArrow ? props.nextArrow : null\r\n  )\r\n\r\n  const [prevArrowElem, setPrevArrowElem] = useState(\r\n    props.prevArrow ? props.prevArrow : null\r\n  )\r\n\r\n  const [modalCloseOption, setModalCloseOption] = useState(\r\n    props.modalClose ? props.modalClose : \"default\"\r\n  )\r\n\r\n  const [showDownloadBtn, setShowDownloadBtn] = useState(\r\n    props.downloadImages ? props.downloadImages : false\r\n  )\r\n\r\n  const [isRTL, setIsRTL] = useState(props.rtl ? props.rtl : false)\r\n\r\n  const [frameworkID, setFrameworkID] = useState(\r\n    props.framework ? props.framework : ''\r\n  )\r\n  const [lightboxIdentifier, setLightboxIdentifier] = useState(\r\n    props.lightboxIdentifier ? props.lightboxIdentifier : false\r\n  )\r\n  const [imageFullScreen, setImageFullScreen] = useState(\r\n    props.fullScreen ? props.fullScreen : false\r\n  )\r\n  const [licenseKey, setLicenseKey] = useState(\r\n    props.licenseKey ? props.licenseKey : ''\r\n  )\r\n  const [showLoader, setShowLoader] = useState(\r\n    props.showLoader ? props.showLoader : false\r\n  )\r\n\r\n  const [displayLoader, setDisplayLoader] = useState(\r\n    props.showLoader ? props.showLoader : false\r\n  )\r\n\r\n  const [videoCurrentlyPlaying, setVideoCurrentlyPlaying] = useState(false)\r\n\r\n  const [width, setWidth] = useState(0)\r\n\r\n  const [isBrowserFullScreen, setIsBrowserFullScreen] = useState(false)\r\n  const [enableMagnifyingGlass, setMagnifyingGlass] = useState(false)\r\n  const [imagesLoaded, setImagesLoaded] = useState(false)\r\n  const [refIndex, setRefIndex] = useState(0)\r\n\r\n  const imageRef: React.RefObject<HTMLImageElement> = useRef(null)\r\n\r\n  const [zoomIdx, setZoomIdx] = useState(0)\r\n\r\n  const [imgContainHeight, setImgContainHeight] = useState(500)\r\n  const [imgContainWidth, setImgContainWidth] = useState(426)\r\n  const [isInit, setIsInit] = useState(false)\r\n\r\n  // Refs\r\n  const zoomRef = useRef(null)\r\n  const [zoomBtnRef, setZoomBtnRef] = useState(null)\r\n  const [zoomRefs, setZoomRefs] = useState([])\r\n  const zoomReferences = useRef<(ReactZoomPanPinchRef | null)[]>([])\r\n\r\n  const videoReferences = useRef({})\r\n\r\n  // Styling/theming\r\n  const [backgroundColor, setBackgroundColor] = useState(\r\n    props.backgroundColor\r\n      ? props.backgroundColor\r\n      : themes[defaultTheme].background\r\n  )\r\n  const [iconColor, setIconColor] = useState(\r\n    props.iconColor ? props.iconColor : null\r\n  )\r\n  const [textColor, setTextColor] = useState(\r\n    props.textColor ? props.textColor : themes[defaultTheme].textColor\r\n  )\r\n\r\n  const [coverMode, setCoverMode] = useState(\r\n    props.useCoverMode ? props.useCoverMode : false\r\n  )\r\n\r\n  const [thumbnailBorder, setThumbnailBorder] = useState(\r\n    props.thumbnailBorder\r\n      ? createCustomThumbnailBorder()\r\n      : themes[defaultTheme].thumbnailBorder\r\n  )\r\n\r\n  const [showThumbnails, setShowThumbnails] = useState(\r\n    props.showThumbnails ? props.showThumbnails : false\r\n  )\r\n  const [animatedThumbnails, setAnimatedThumbnails] = useState(\r\n    props.animateThumbnails ? props.animateThumbnails : true\r\n  )\r\n  const [imgAnimation, setImgAnimation] = useState(\r\n    props.imgAnimation ? props.imgAnimation : 'imgDrag'\r\n  )\r\n  const [arrowStyle, setArrowStyle] = useState(\r\n    props.arrowStyle ? props.arrowStyle : 'dark'\r\n  )\r\n\r\n  const isMobile = width <= mobileWidth;\r\n\r\n  const initZoomRef = (ref) => {\r\n    if (ref) setZoomBtnRef(ref)\r\n    else setZoomBtnRef(null)\r\n  }\r\n\r\n  const getLoaderThemeClass = () => {\r\n    if (props.theme) {\r\n      if (props.theme == 'night' || props.theme == 'lightbox') {\r\n        return styles.night_loader\r\n      } else if (props.theme == 'day') {\r\n        return styles.day_loader\r\n      }\r\n    }\r\n    return styles.night_loader\r\n  }\r\n\r\n  const wheelEvent: (ref: ReactZoomPanPinchRef, event: WheelEvent) => void = (ref, e) => {\r\n    setImgAnimation('fade')\r\n    // setLockAxisY(false)\r\n  }\r\n\r\n  const zoomEvent = (ref, e) => {\r\n    if (ref.state.scale == 1) {\r\n      setImgAnimation('imgDrag')\r\n      // setImgSwipeMotion(imgSwipeDirection)\r\n      setZoomedIn(false)\r\n    } else {\r\n      // setImgAnimation(\"fade\");\r\n      setZoomedIn(true)\r\n    }\r\n  }\r\n\r\n  const isImageCaption = () => {\r\n    if (props.images && props.images[slideIndex].caption) {\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  const displayDownloadBtn = () => {\r\n    if (isVideo(slideIndex)) {\r\n      return false\r\n    } else {\r\n      return showDownloadBtn\r\n    }\r\n  }\r\n\r\n  function handleWindowResize() {\r\n    setWidth(window.innerWidth)\r\n  }\r\n\r\n  const shouldDisplayMagnifyingGlassIcon = () => {\r\n    if (isVideo(slideIndex)) {\r\n      return false\r\n    }\r\n    if (isMobile == true) {\r\n      return false\r\n    }\r\n    if (imageFullScreen == true) {\r\n      return false\r\n    }\r\n\r\n    if (magnifyingGlassFeature == true) {\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  const getImageStyle = () => {\r\n    let styleObject = {};\r\n    if (isRounded) {\r\n      styleObject[\"borderRadius\"] = \"20px\";\r\n    }\r\n    if (modalCloseOption == \"clickOutside\") {\r\n      styleObject[\"pointerEvents\"] = \"auto\"\r\n    }\r\n    return styleObject;\r\n  }\r\n\r\n  const shouldDisplaySlideshowIcon = () => {\r\n    if (images) {\r\n      if (images.length == 1) {\r\n        return false;\r\n      }\r\n    }\r\n    else if (props.images) {\r\n      if (props.images.length == 1) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  const thumbnailClick = (index) => {\r\n    initLoader(index)\r\n    resetVideo()\r\n    resetImage()\r\n    setCurrentSlide(index)\r\n  }\r\n\r\n  const checkModalClick = (e) => {\r\n    const modals = document.getElementsByClassName('imageModal')\r\n    let arr_modals = Array.from(modals)\r\n    for (let i = 0; i < arr_modals.length; i++) {\r\n      let elem = arr_modals[i]\r\n      let clickInside = elem.contains(e.target);\r\n\r\n      if (clickInside) {\r\n        return\r\n      }\r\n    }\r\n\r\n    closeModal()\r\n  }\r\n\r\n  const getRTLIndex = (img_gallery_length, i) => {\r\n    let index\r\n    if (i == 0) {\r\n      index = img_gallery_length - 1\r\n    } else if (i == img_gallery_length - 1) {\r\n      index = 0\r\n    } else {\r\n      index = img_gallery_length - i - 1\r\n    }\r\n    return index\r\n  }\r\n\r\n  const getIconColor = () => {\r\n    if (props.theme) {\r\n      if (themes[props.theme]) {\r\n        return themes[props.theme].iconColor;\r\n      }\r\n    }\r\n    else {\r\n      return themes[defaultTheme].iconColor;\r\n    }\r\n  }\r\n\r\n  const fullScreen = () => {\r\n    let lightbox = document.getElementById('slideshowAnim')\r\n    openFullScreen(lightbox)\r\n    setIsBrowserFullScreen(true)\r\n    initFullScreenChangeEventListeners()\r\n  }\r\n\r\n  const exitFullScreenHandler = () => {\r\n    //in full screen mode\r\n    if (\r\n      document['webkitIsFullScreen'] ||\r\n      document['mozFullScreen'] ||\r\n      document['msFullscreenElement']\r\n    ) {\r\n      setIsBrowserFullScreen(true)\r\n    } else {\r\n      if (isBrowserFullScreen) {\r\n        closeFullScreen(document)\r\n      }\r\n      removeFullScreenChangeEventListeners()\r\n      setIsBrowserFullScreen(false)\r\n    }\r\n  }\r\n\r\n  const exitFullScreen = () => {\r\n    closeFullScreen(document)\r\n    removeFullScreenChangeEventListeners()\r\n    setIsBrowserFullScreen(false)\r\n  }\r\n\r\n  const updateImageSlideshow = (newDirection) => {\r\n    if (isRTL) {\r\n      reactSwipeEl.prev()\r\n    } else {\r\n      reactSwipeEl.next()\r\n    }\r\n\r\n    setImgSlideIndex([imgSlideIndex + newDirection, newDirection])\r\n    if (isRTL) {\r\n      setRefIndex(refIndex - 1)\r\n      setZoomIdx(zoomIdx - 1 < 0 ? images.length - 1 : zoomIdx - 1)\r\n    } else {\r\n      setZoomIdx(zoomIdx + 1 >= images.length ? 0 : zoomIdx + 1)\r\n      setRefIndex(refIndex + 1)\r\n    }\r\n  }\r\n\r\n  const displayArrows = () => {\r\n    if (props.showArrows == false) {\r\n      return false;\r\n    }\r\n    else if (images.length == 1) {\r\n      return false;\r\n    }\r\n    if (props.images) {\r\n      if (props.images.length == 1) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  const initLoader = (newIndex) => {\r\n    if (props.showLoader && props.images) {\r\n      if (!isVideo(newIndex) && images[newIndex]['loaded'] != true) {\r\n        setDisplayLoader(true)\r\n      } else if (\r\n        props.showLoader &&\r\n        props.images &&\r\n        images[newIndex]['loaded']\r\n      ) {\r\n        setDisplayLoader(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  const getImageCaption = (): string => {\r\n    if (props.images) {\r\n      return props.images[slideIndex].caption;\r\n    }\r\n    return \"\"\r\n  }\r\n\r\n  const getArrowStyle = (): string | void => {\r\n    if (arrowStyle == 'dark') {\r\n      return styles.dark_icon\r\n    } else if (arrowStyle == 'light') {\r\n      return styles.light_icon\r\n    }\r\n  }\r\n\r\n  const getIconStyle = (): string | undefined => {\r\n    if (arrowStyle == 'dark') {\r\n      return styles.dark_header_icon\r\n    } else if (arrowStyle == 'light') {\r\n      return styles.light_header_icon\r\n    }\r\n  }\r\n\r\n  const setCurrentSlide = (newIndex) => {\r\n    let newDirection\r\n    if (newIndex > imgSlideIndex) {\r\n      newDirection = 1\r\n    } else {\r\n      newDirection = -1\r\n    }\r\n\r\n    setZoomIdx(newIndex)\r\n\r\n    setImgSlideIndex([newIndex, newDirection])\r\n    reactSwipeEl.slide(newIndex, 500)\r\n  }\r\n\r\n  const dispatchOpenEvent = () => {\r\n    if (props.onOpen) {\r\n      props.onOpen();\r\n    }\r\n  }\r\n\r\n  const dispatchCloseEvent = () => {\r\n    if (props.onClose) {\r\n      props.onClose()\r\n    }\r\n  }\r\n\r\n  const closeModal = () => {\r\n    //reset zoom ref\r\n    setZoomIdx(0)\r\n\r\n    if (isBrowserFullScreen) {\r\n      exitFullScreen()\r\n    }\r\n\r\n    // ensure slideshow is paused\r\n    if (isSlideshowPlaying) {\r\n      setIsSlideshowPlaying(false)\r\n    }\r\n\r\n    setShowModal(false)\r\n    setIsOpen(false)\r\n\r\n  }\r\n\r\n  const openModal = (num) => {\r\n    setImgSlideIndex([num, 1])\r\n    setShowModal(true)\r\n    setIsOpen(true)\r\n  }\r\n\r\n  const setItemLoaded = (index) => {\r\n    if (props.images) {\r\n      images[index]['loaded'] = true\r\n      setImages(images)\r\n    }\r\n  }\r\n\r\n  const setImagesItemLoaded = (index) => {\r\n    let imgs: SlideItem[] = images\r\n    imgs[index]['loaded'] = true\r\n    setImages(imgs)\r\n  }\r\n\r\n  const nextSlide = () => {\r\n    initLoader((imgSlideIndex + 1) % images.length)\r\n    resetVideo()\r\n    resetImage()\r\n    reactSwipeEl.next()\r\n    setRefIndex(refIndex + 1)\r\n    setImgSlideIndex([imgSlideIndex + 1, 1])\r\n    setZoomIdx(zoomIdx + 1 >= images.length ? 0 : zoomIdx + 1)\r\n  }\r\n\r\n  const prevSlide = () => {\r\n    initLoader((imgSlideIndex - 1) % images.length)\r\n    resetVideo()\r\n    resetImage()\r\n    reactSwipeEl.prev()\r\n    setRefIndex(refIndex - 1)\r\n    setZoomIdx(zoomIdx - 1 < 0 ? images.length - 1 : zoomIdx - 1)\r\n    setImgSlideIndex([imgSlideIndex - 1, 1])\r\n  }\r\n\r\n  const pauseVideo = () => {\r\n    if (videoCurrentlyPlaying) {\r\n      if (videoReferences.current[slideIndex]) {\r\n        videoReferences.current[slideIndex].pause()\r\n      }\r\n    }\r\n    setVideoCurrentlyPlaying(false)\r\n  }\r\n\r\n  const openModalWithSlideNum = (index) => {\r\n    let reactSwipeOptionConfig = reactSwipeOptions\r\n    reactSwipeOptionConfig.startSlide = index\r\n    setReactSwipeOptions(reactSwipeOptionConfig)\r\n    setZoomIdx(index)\r\n    openModal(index)\r\n  }\r\n\r\n  const saveImage = () => {\r\n    if (props.images.length > 0) {\r\n      if (props.images[slideIndex].original) {\r\n        saveAs(props.images[slideIndex].original, 'image.jpg')\r\n      } else {\r\n        saveAs(props.images[slideIndex]['src'], 'image.jpg')\r\n      }\r\n    } else {\r\n      if (images[slideIndex].src) {\r\n        saveAs(images[slideIndex].src!, 'image.jpeg')\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  const playSlideshow = () => {\r\n    setMagnifyingGlass(false)\r\n    if (isRTL) {\r\n      updateImageSlideshow(-1)\r\n    } else {\r\n      updateImageSlideshow(1)\r\n    }\r\n    setIsSlideshowPlaying(true)\r\n  }\r\n\r\n  const stopSlideshow = () => {\r\n    setIsSlideshowPlaying(false)\r\n  }\r\n\r\n  const resetVideo = () => {\r\n    if (videoCurrentlyPlaying) {\r\n      pauseVideo()\r\n    }\r\n    if (props.images) {\r\n      if (props.images[slideIndex].type == 'yt') {\r\n        let elem = props.images[slideIndex]\r\n        videoReferences.current[\r\n          slideIndex\r\n        ].src = `https://www.youtube.com/embed/${elem.videoID}?${shouldAutoplay(elem) ? 'autoplay=1' : ''\r\n        }`\r\n      }\r\n    }\r\n  }\r\n\r\n  const resetImage = () => {\r\n    if (enableMagnifyingGlass) {\r\n      initMagnifyingGlass()\r\n    } else {\r\n      if (zoomReferences.current[zoomIdx] != null) {\r\n        zoomReferences.current[zoomIdx]!.resetTransform()\r\n      }\r\n    }\r\n  }\r\n\r\n  const getThumbnailImgSrc = (img, index) => {\r\n    if (isVideo(index) && img.thumbnail) {\r\n      return img.thumbnail\r\n    } else {\r\n      return img.src\r\n    }\r\n  }\r\n\r\n  const getThumbnailImgSrcNext = (img, index) => {\r\n    if (isVideo(index)) {\r\n      return img.thumbnail\r\n    } else {\r\n      let img_src = img.src\r\n      if (\r\n        typeof img_src === 'object' &&\r\n        !Array.isArray(img_src) &&\r\n        img_src !== null\r\n      ) {\r\n        return img_src.src\r\n      } else {\r\n        return img_src\r\n      }\r\n    }\r\n  }\r\n\r\n  const initWrapperClassname = () => {\r\n    if (props.className) {\r\n      return `${props.className} ${styles.lightboxjs}`\r\n    }\r\n    return styles.lightboxjs\r\n  }\r\n\r\n  const initStyling = () => {\r\n    if (props.theme) {\r\n      if (themes[props.theme]) {\r\n        setBackgroundColor(themes[props.theme].background)\r\n        // setIconColor(themes[props.theme].iconColor)\r\n        // setThumbnailBorder(themes[props.theme].thumbnailBorder)\r\n        setTextColor(themes[props.theme].textColor)\r\n      }\r\n    }\r\n\r\n    if (props.fullScreen) {\r\n      if (props.fullScreen == true) {\r\n        setImgAnimation('fade')\r\n        setIsRounded(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  const imageSlideElement = (index) => {\r\n    let imageElem;\r\n    if (!props.images) {\r\n      imageElem = (\r\n        <img\r\n          className={`${props.fullScreen\r\n            ? styles.fullScreenLightboxImg\r\n            : styles.lightbox_img\r\n            } \r\n            ${enableMagnifyingGlass\r\n              ? ' maxWidthFull'\r\n              : ' maxWidthWithoutMagnifier'\r\n            } imageModal`}\r\n          style={getImageStyle()}\r\n          ref={imageRef}\r\n          loading='lazy'\r\n          src={\r\n            images[index].original ? images[index].original : images[index].src\r\n          }\r\n          onLoad={() => {\r\n            if (index == slideIndex) {\r\n              setDisplayLoader(false)\r\n            }\r\n\r\n            if (props.images) {\r\n              setItemLoaded(index)\r\n            } else {\r\n              setImagesItemLoaded(index)\r\n            }\r\n          }}\r\n          id='img'\r\n        />\r\n      )\r\n    } else if (props.images && props.render) {\r\n      imageElem = props.render.imgSlide(props.images[index])\r\n    } else {\r\n      let img_link\r\n\r\n      // check if object (Next.js local image imports are passed as objects with a src attribute)\r\n      if (props.images) {\r\n        if (\r\n          typeof images[index].src === 'object' &&\r\n          !Array.isArray(images[index].src) &&\r\n          images[index].src !== null\r\n        ) {\r\n          img_link = images[index].src?.src\r\n        } else if (props.coverImageInLightbox == true) {\r\n          img_link = images[index].src\r\n        } else {\r\n          img_link = images[index].src\r\n        }\r\n      }\r\n\r\n      imageElem = (\r\n        <img\r\n          className={`${props.fullScreen\r\n            ? styles.fullScreenLightboxImg\r\n            : styles.lightbox_img\r\n            } \r\n            ${enableMagnifyingGlass\r\n              ? ' maxWidthFull'\r\n              : ' maxWidthWithoutMagnifier'\r\n            } imageModal`}\r\n          ref={imageRef}\r\n          loading='lazy'\r\n          style={getImageStyle()}\r\n          src={\r\n            images[index].original\r\n              ? images[index].original\r\n              : img_link\r\n          }\r\n          onLoad={() => {\r\n            if (index == slideIndex) {\r\n              setDisplayLoader(false)\r\n            }\r\n\r\n            if (props.images) {\r\n              setItemLoaded(index)\r\n            } else {\r\n              setImagesItemLoaded(index)\r\n            }\r\n          }}\r\n          id='img'\r\n        />\r\n      )\r\n    }\r\n\r\n    return imageElem\r\n  }\r\n  \r\n  const getLightboxElem = (index) => {\r\n    if (isVideo(index))  {\r\n      return videoSlideElement(index) \r\n    }\r\n    else if (isPictureElement(index)) {\r\n      let elem_metadata = props.images[index][\"picture\"];\r\n      return <picture  className={`imageModal \r\n      ${props.fullScreen\r\n        ? styles.fullScreenLightboxImg\r\n        : styles.lightbox_img\r\n        } \r\n      ${enableMagnifyingGlass\r\n          ? styles.maxWidthFull\r\n          : styles.maxWidthWithoutMagnifier\r\n        } `}>\r\n            {Object.keys(elem_metadata).map((format) => (\r\n                <source\r\n                    type={format}\r\n                    key={format}\r\n                    srcSet={elem_metadata[format].srcSet}\r\n                />\r\n            ))}\r\n            <img src={elem_metadata['fallback']} />\r\n        </picture>\r\n    }\r\n    else {\r\n\r\n      if ((images && props.render) ||\r\n      frameworkID == 'next') {\r\n        return imageSlideElement(index);\r\n      }\r\n      else {\r\n          return <img\r\n          className={`imageModal \r\n          ${props.fullScreen\r\n            ? styles.fullScreenLightboxImg\r\n            : styles.lightbox_img\r\n            } \r\n          ${enableMagnifyingGlass\r\n              ? styles.maxWidthFull\r\n              : styles.maxWidthWithoutMagnifier\r\n            } `}\r\n          ref={imageRef}\r\n          loading='lazy'\r\n          style={getImageStyle()}\r\n          src={\r\n            images && images[index].original\r\n              ? images[index].original\r\n              : images[index].src\r\n          }\r\n          onLoad={() => {\r\n            if (index == slideIndex) {\r\n              setDisplayLoader(false)\r\n            }\r\n  \r\n            if (props.images) {\r\n              setItemLoaded(index)\r\n            } else {\r\n              setImagesItemLoaded(index)\r\n            }\r\n          }}\r\n          id='img'\r\n        />\r\n      }\r\n\r\n    }\r\n   \r\n  }\r\n\r\n  const isVideo = (index) => {\r\n    if (props.images) {\r\n      let elem = props.images[index]\r\n      if (elem) {\r\n        if (elem.type == 'yt' || elem.type == 'htmlVideo') {\r\n          return true\r\n        }\r\n      }\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  const isPictureElement = (index) => {\r\n    if (props.images) {\r\n      let elem = props.images[index]\r\n      if (elem) {\r\n        if (elem.picture) {\r\n          return true\r\n        }\r\n      }\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  const isHTMLVideo = (index) => {\r\n    if (props.images) {\r\n      if (props.images && props.images[index].type == 'htmlVideo') {\r\n        return true\r\n      }\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  const videoSlideElement = (index) => {\r\n    let elem = props.images[index];\r\n    let videoElem;\r\n\r\n    if (elem.type == 'yt') {\r\n      videoElem = (\r\n        <div className={`${styles.videoOuterContainer} imageModal`}>\r\n          <iframe\r\n            className={`${styles.ytVideo}`}\r\n            width={getVideoWidth(elem)}\r\n            height={getVideoHeight(elem)}\r\n            ref={(el) => (videoReferences.current[index] = el)}\r\n            src={`https://www.youtube.com/embed/${elem.videoID}?${shouldAutoplay(elem) ? 'autoplay=1' : ''\r\n              }`}\r\n            title='YouTube video player'\r\n            frameBorder='0'\r\n            allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share'\r\n            allowFullScreen\r\n            onLoad={() => {\r\n              if (index == slideIndex) {\r\n                setDisplayLoader(false)\r\n              }\r\n              setItemLoaded(index)\r\n            }}\r\n          ></iframe>\r\n        </div>\r\n      )\r\n    } else if (elem.type == 'htmlVideo') {\r\n      videoElem = (\r\n        <div\r\n          className={`${styles.htmlVideo} ${styles.htmlVideoOuterContainer} imageModal`}\r\n        >\r\n          <video\r\n            className={`${styles.cursorPointer} ${styles.lightboxVideo}`}\r\n            width={getVideoWidth(elem)}\r\n            ref={(el) => (videoReferences.current[index] = el)}\r\n            onPlay={() => {\r\n              setVideoCurrentlyPlaying(true)\r\n            }}\r\n            height={getVideoHeight(elem)}\r\n            autoPlay={index == imgSlideIndex ? shouldAutoplay(elem) : false}\r\n            controls\r\n          >\r\n            <source\r\n              src={elem.videoSrc}\r\n              type='video/mp4'\r\n              onLoad={() => {\r\n                setItemLoaded(index)\r\n              }}\r\n            />\r\n          </video>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return videoElem\r\n  }\r\n\r\n  const regularImgPaneNodes = Array.apply(null, Array(images.length)).map(\r\n    (_, index) => {\r\n      return (\r\n        <div key={index}>\r\n          {enableMagnifyingGlass == true ? (\r\n            <Magnifier\r\n              src={images[index].src!}\r\n              className={`${styles.magnifyWrapper} ${styles.lightbox_img}`}\r\n              height={imgContainHeight}\r\n              width={imgContainWidth}\r\n              mgShowOverflow={false}\r\n\r\n            />\r\n          ) : (\r\n            <div className={`${styles.slidePane}`}>\r\n              <TransformWrapper\r\n                ref={(el) => (zoomReferences.current[index] = el)}\r\n                onWheel={wheelEvent}\r\n                disabled={disableZoom}\r\n                key={index}\r\n                onZoom={zoomEvent}\r\n                centerZoomedOut={true}\r\n                initialScale={1}\r\n              >\r\n                <TransformComponent\r\n                  wrapperStyle={{\r\n                    width: '100vw',\r\n                    height: '100vh',\r\n                    margin: 'auto'\r\n                  }}\r\n                  contentStyle={\r\n                    props.fullScreen\r\n                      ? {\r\n                        width: '100vw',\r\n                        height: '100vh',\r\n                        marginLeft: 'auto',\r\n                        marginRight: 'auto'\r\n                      }\r\n                      : {\r\n                        width: '100vw',\r\n                        height: '100vh',\r\n                        margin: 'auto',\r\n                        display: 'grid'\r\n                      }\r\n                  }\r\n                  key={index}\r\n                >\r\n                  <div\r\n                    className={`${props.fullScreen\r\n                      ? styles.slideshow_img_fullscreen\r\n                      : styles.slideshow_img\r\n                      } ${props.lightboxImgClass ? props.lightboxImgClass : \"\"}`}\r\n                  >\r\n                    {getLightboxElem(index)}\r\n                    \r\n                  </div>\r\n                </TransformComponent>\r\n              </TransformWrapper>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )\r\n    }\r\n  )\r\n\r\n  const initMagnifyingGlass = () => {\r\n    if (!enableMagnifyingGlass) {\r\n      initImageDimensions()\r\n    } else {\r\n      setImgAnimation('imgDrag')\r\n    }\r\n    setMagnifyingGlass(!enableMagnifyingGlass)\r\n  }\r\n\r\n  const initImageDimensions = () => {\r\n    let img\r\n    if (imgSlideIndex == 0 || imgSlideIndex % images.length == 0) {\r\n      img = document.getElementById('img')\r\n    } else {\r\n      img = imageRef.current\r\n    }\r\n\r\n    var ratio = img.naturalWidth / img.naturalHeight\r\n    var width = img.height * ratio\r\n    var height = img.height\r\n    if (width > img.width) {\r\n      width = img.width\r\n      height = img.width / ratio\r\n    }\r\n\r\n    setImgContainHeight(height)\r\n    setImgContainWidth(width)\r\n  }\r\n\r\n\r\n  const initFullScreenChangeEventListeners = () => {\r\n    document.addEventListener('fullscreenchange', exitFullScreenHandler)\r\n    document.addEventListener('webkitfullscreenchange', exitFullScreenHandler)\r\n    document.addEventListener('MSFullscreenChange', exitFullScreenHandler)\r\n    document.addEventListener('mozfullscreenchange', exitFullScreenHandler)\r\n  }\r\n\r\n  const removeFullScreenChangeEventListeners = () => {\r\n    document.removeEventListener('fullscreenchange', exitFullScreenHandler)\r\n    document.removeEventListener(\r\n      'webkitfullscreenchange',\r\n      exitFullScreenHandler\r\n    )\r\n    document.removeEventListener('MSFullscreenChange', exitFullScreenHandler)\r\n    document.removeEventListener('mozfullscreenchange', exitFullScreenHandler)\r\n  }\r\n\r\n  const initEventListeners = () => {\r\n    if (isBrowser()) {\r\n      window.addEventListener('resize', handleWindowResize)\r\n    }\r\n  }\r\n\r\n  const removeEventListeners = () => {\r\n    if (isBrowser()) {\r\n      window.removeEventListener('resize', handleWindowResize)\r\n    }\r\n  }\r\n\r\n  const setReducedMotion = (mediaQuery) => {\r\n    if (mediaQuery.matches) {\r\n      setImgAnimation('fade')\r\n    }\r\n  }\r\n\r\n  // Check if the user has a preference for reduced motion\r\n  // If so, the image animation transitions between slides in the slideshow will be adjusted\r\n  // to account for this\r\n  const checkAndInitReducedMotion = () => {\r\n    let reducedMotionMediaQuery: any = ''\r\n\r\n    if (isBrowser()) {\r\n      reducedMotionMediaQuery = window.matchMedia(\r\n        '(prefers-reduced-motion: reduce)'\r\n      )\r\n\r\n      if (!reducedMotionMediaQuery || reducedMotionMediaQuery.matches) {\r\n        setImgAnimation('fade')\r\n      }\r\n\r\n      reducedMotionMediaQuery.addEventListener(\r\n        'change',\r\n        setReducedMotion(reducedMotionMediaQuery)\r\n      )\r\n    }\r\n\r\n    return reducedMotionMediaQuery\r\n  }\r\n\r\n  const initPropsForControlIcons = () => {\r\n    if (props.showFullScreenIcon != undefined) {\r\n      setDisplayFullScreenIcon(props.showFullScreenIcon)\r\n    }\r\n    if (props.showThumbnailIcon != undefined) {\r\n      setDisplayThumbnailIcon(props.showThumbnailIcon)\r\n    }\r\n\r\n    if (props.showSlideshowIcon != undefined) {\r\n      setDisplaySlideshowIcon(props.showSlideshowIcon)\r\n    }\r\n\r\n    if (props.showMagnificationIcons != undefined) {\r\n      setDisplayMagnificationIcons(props.showMagnificationIcons)\r\n    }\r\n  }\r\n\r\n  const initProps = () => {\r\n    if (props.showControls != undefined) {\r\n      setShowControls(props.showControls)\r\n    }\r\n\r\n    initPropsForControlIcons()\r\n\r\n    if (props.disableImageZoom) {\r\n      setDisableZoom(props.disableImageZoom)\r\n    }\r\n\r\n    if (isBrowser()) {\r\n      setWidth(window.innerWidth)\r\n    }\r\n\r\n    if (window.innerWidth <= mobileWidth) {\r\n      setImgAnimation('fade')\r\n    }\r\n  }\r\n\r\n\r\n  // Slideshow feature; if isSlideshowPlaying set to true, then slideshow cycles through images\r\n  useInterval(\r\n    () => {\r\n      if (isRTL) {\r\n        updateImageSlideshow(-1)\r\n      } else {\r\n        updateImageSlideshow(1)\r\n      }\r\n    },\r\n\r\n    // Delay in milliseconds or null to stop it\r\n    isSlideshowPlaying ? slideshowInterval : null\r\n  )\r\n\r\n  const openFullScreen = (lightbox_elem) => {\r\n    if (lightbox_elem.requestFullscreen) {\r\n      lightbox_elem.requestFullscreen();\r\n    }\r\n\r\n    /* Safari */\r\n    else if (lightbox_elem.webkitRequestFullscreen) {\r\n      lightbox_elem.webkitRequestFullscreen();\r\n    }\r\n\r\n    /* Internet Explorer */\r\n    else if (lightbox_elem.msRequestFullscreen) {\r\n      lightbox_elem.msRequestFullscreen();\r\n    }\r\n  }\r\n\r\n  const closeFullScreen = (document) => {\r\n    if (document.exitFullscreen) {\r\n      document.exitFullscreen();\r\n    }\r\n\r\n    /* Safari */\r\n    else if (document.webkitExitFullscreen) {\r\n      document.webkitExitFullscreen();\r\n    }\r\n\r\n    /* Internet Explorer */\r\n    else if (document.msExitFullscreen) {\r\n      document.msExitFullscreen();\r\n    }\r\n  }\r\n\r\n  const isBrowser = () => typeof window !== \"undefined\"\r\n\r\n  const initRTLImages = () => {\r\n    // flip images array\r\n    let imagesMetadataCopy = props.images\r\n    imagesMetadataCopy.reverse()\r\n\r\n    setImages(imagesMetadataCopy)\r\n\r\n    if (images.length > 0) {\r\n      let imagesRTLCopy = images\r\n      imagesRTLCopy.reverse()\r\n      setImages(imagesRTLCopy)\r\n\r\n    }\r\n  }\r\n\r\n\r\n  const initImages = (isMounted, updateImages) => {\r\n\r\n    if (coverMode && props.images) {\r\n      if (props.coverImageInLightbox == false) {\r\n        let filterImages = props.images.filter((img) => img.cover != true)\r\n        setImages(filterImages)\r\n      } else {\r\n        setImages(props.images)\r\n      }\r\n    }\r\n\r\n    if (updateImages || !isInit) {\r\n      if (lightboxIdentifier && props.children) {\r\n        let img_gallery: NodeListOf<HTMLImageElement> = document.querySelectorAll(\r\n          `[data-lightboxjs=${lightboxIdentifier}]`\r\n        )\r\n        \r\n        let img_elements: ImageElement[] = []\r\n        if (img_gallery.length > 0) {\r\n          for (let i = 0; i <= img_gallery.length - 1; i++) {\r\n            let img = img_gallery[i]\r\n\r\n            let attr_val = img.getAttribute('data-lightboxjs')\r\n            if (attr_val == lightboxIdentifier) {\r\n              img.addEventListener(\r\n                'click',\r\n                () => {\r\n                  let index\r\n\r\n                  if (isRTL) {\r\n                    index = getRTLIndex(img_gallery.length, i)\r\n                  } else {\r\n                    index = i\r\n                  }\r\n\r\n                  let reactSwipeOptionConfig = reactSwipeOptions\r\n                  reactSwipeOptionConfig.startSlide = index\r\n\r\n                  if (isMounted) setReactSwipeOptions(reactSwipeOptionConfig)\r\n                  setZoomIdx(index)\r\n                  openModal(index)\r\n                },\r\n                false\r\n              )\r\n              img.classList.add('cursor-pointer')\r\n\r\n              if (img.src) {\r\n                img_elements.push({\r\n                  src: img.src,\r\n                  alt: img.alt,\r\n                  loaded: 'false'\r\n                })\r\n              } else if (img.tagName == 'DIV') {\r\n                let corresponding_img_item = props.images[i]\r\n                let img_src = corresponding_img_item.src\r\n                let img_alt = corresponding_img_item.alt\r\n                img_elements.push({\r\n                  src: img_src,\r\n                  alt: img_alt,\r\n                  loaded: 'false'\r\n                })\r\n              }\r\n            }\r\n          }\r\n          if (isMounted && !coverMode) {\r\n            if ( props.showAllImages != true && props.framework != \"next\") {\r\n              setImages(img_elements) \r\n            } \r\n            else if (props.framework == \"next\") {\r\n              setImages(props.images)\r\n            }\r\n            else {\r\n              setImages(props.images)\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          if (props.images) {\r\n            setImages(props.images)\r\n\r\n          }\r\n        }\r\n      }\r\n      else if (lightboxIdentifier && props.images && !props.children) {\r\n        setImages(props.images)\r\n\r\n      }\r\n      else if (!lightboxIdentifier && props.images && !props.children) {\r\n        setImages(props.images)\r\n\r\n      }\r\n\r\n      // otherwise, if no lightbox identifier or custom render method\r\n      else if (!props.render) {\r\n        let imgArray: any = [];\r\n        // only one image\r\n        if (!Array.isArray(props.children)) {\r\n          imgArray.push(props.children);\r\n        }\r\n\r\n        // multiple images\r\n        else {\r\n          imgArray = props.children;\r\n        }\r\n        \r\n        let imgs: ImageElement[] = []\r\n        for (let k = 0; k < imgArray.length; k++) {\r\n          let img_elem = imgArray[k]\r\n          let img_obj = {\r\n            src: img_elem.props.src,\r\n            alt: img_elem.props.alt,\r\n            loaded: 'false'\r\n          }\r\n          imgs.push(img_obj)\r\n        }\r\n        if (isRTL) {\r\n          imgs.reverse()\r\n        }\r\n        if (isMounted) setImages(imgs)\r\n\r\n        setPreviewImageElems(imgArray)\r\n\r\n      } else {\r\n        if (isMounted) { setImages(props.images);}\r\n\r\n      }\r\n\r\n      if (isMounted) setIsInit(true)\r\n    }\r\n    \r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    initImages(true, true)\r\n  }, [props.images, props.displayedImages]);\r\n\r\n\r\n  useEffect(() => {\r\n    let slideNum = 0;\r\n    if (props.open) {\r\n      if (props.startingSlideIndex) {\r\n        if (props.startingSlideIndex < images.length && (props.startingSlideIndex >= 0)) {\r\n          slideNum = props.startingSlideIndex;\r\n        }\r\n        else {\r\n          slideNum = 0\r\n        }\r\n      }\r\n\r\n      openModalWithSlideNum(slideNum)\r\n\r\n    }\r\n    else if (props.open == false) {\r\n      closeModal()\r\n    }\r\n  }, [props.open]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen == true) {\r\n      dispatchOpenEvent()\r\n    }\r\n    else {\r\n      dispatchCloseEvent()\r\n    }\r\n\r\n  }, [isOpen])\r\n\r\n  useEffect(() => {\r\n\r\n    // Error check\r\n    if (props.render) {\r\n      if (!props.images) {\r\n        console.error(\r\n          'Array of images must be passed to `SlideshowLightbox` (with the `images` prop) if using custom render method. '\r\n        )\r\n      }\r\n    }\r\n\r\n    let isMounted = true\r\n    if (isMounted) initProps()\r\n\r\n    if (coverMode && props.images) {\r\n      if (props.coverImageInLightbox == false) {\r\n        let filterImages = props.images.filter((img) => img.cover != true)\r\n        setImages(filterImages)\r\n      } else {\r\n        setImages(props.images)\r\n      }\r\n    }\r\n\r\n    if (isMounted) {\r\n      initEventListeners()\r\n    }\r\n\r\n    let reducedMotionMediaQuery = checkAndInitReducedMotion()\r\n\r\n    if (!isInit) {\r\n      initImages(isMounted, false);\r\n\r\n      if (props.images && isRTL == true) {\r\n        initRTLImages();\r\n      }\r\n    }\r\n\r\n    if (isMounted) initStyling()\r\n\r\n    return () => {\r\n      isMounted = false\r\n      removeEventListeners()\r\n      reducedMotionMediaQuery.removeEventListener(\r\n        'change',\r\n        reducedMotionMediaQuery\r\n      )\r\n    }\r\n  }, [])\r\n\r\n\r\n  var reactSwipeEl\r\n\r\n  return <div>\r\n    <div className={`${initWrapperClassname()}`}>\r\n      {props.images && props.children && lightboxIdentifier == false\r\n        ? props.children\r\n        : null}\r\n\r\n      {props.images && lightboxIdentifier == false\r\n        ? props.images.map((elem, index) => (\r\n          <img\r\n            className={`${styles.cursorPointer}`}\r\n            src={elem.src}\r\n            // src={isSrcStr(elem.src) ? elem.src : elem.src.src}\r\n            onClick={() => {\r\n              let img_index\r\n\r\n              if (isRTL) {\r\n                img_index = getRTLIndex(props.images.length, index)\r\n              } else {\r\n                img_index = index\r\n              }\r\n\r\n              openModalWithSlideNum(img_index)\r\n            }}\r\n            key={index}\r\n          />\r\n        ))\r\n        : null}\r\n\r\n      {/* IF Lightbox identifier provided or props.images provided AND props.children */}\r\n      {lightboxIdentifier != false && props.children && coverMode == false\r\n        ? props.children\r\n        : null}\r\n\r\n      {/* {lightboxIdentifier != false && !props.children && coverMode == false\r\n        ? <h1>images</h1>\r\n        : null} */}\r\n\r\n      {(lightboxIdentifier == false && props.images) || coverMode == true\r\n        ? null\r\n        : // No lightbox identifier provided or no cover mode\r\n        previewImageElems\r\n          .filter((elem) => elem.type == 'img')\r\n          .map((elem, index) => (\r\n            <img\r\n              {...elem.props}\r\n              className={`${elem.props.className ? elem.props.className : ''\r\n                } ${styles.cursorPointer}`}\r\n              onClick={() => {\r\n                let img_index\r\n\r\n                if (isRTL) {\r\n                  img_index = getRTLIndex(previewImageElems.length, index)\r\n                } else {\r\n                  img_index = index\r\n                }\r\n\r\n                openModalWithSlideNum(img_index)\r\n              }}\r\n              key={index}\r\n            />\r\n          ))}\r\n\r\n      {coverMode ? props.children : false}\r\n      <AnimateSharedLayout type='crossfade'>\r\n        <AnimatePresence initial={false}>\r\n          {showModal !== false && (\r\n            <Portal>\r\n              <Div100vh>\r\n                <motion.div\r\n                  className={`${styles.slideshowAnimContainer}`}\r\n                  key='slideshowAnimContainer'\r\n                  id='slideshowAnim'\r\n                  style={{\r\n                    backgroundColor: backgroundColor\r\n                  }}\r\n                  initial={{ opacity: 0, scale: 0.98 }}\r\n                  exit={{ opacity: 0, scale: 0.98 }}\r\n                  animate={{ opacity: 1, scale: 1 }}\r\n                  transition={{\r\n                    duration: 0.2\r\n                  }}\r\n                >\r\n                  <div className={`${styles.lightboxContainer}`} onClick={(e) => {if (modalCloseOption == \"clickOutside\") {checkModalClick(e)}}}>\r\n                    <section\r\n                      className={`${styles.iconsHeader} ${iconColor ? '' : getIconStyle()\r\n                        } imageModal`}\r\n                      style={{ color: iconColor }}\r\n                    >\r\n                      <KeyHandler\r\n                        keyValue={'ArrowLeft'}\r\n                        code={'37'}\r\n                        onKeyHandle={() => {\r\n                          prevSlide()\r\n                        }}\r\n                      />\r\n                      <KeyHandler\r\n                        keyValue={'ArrowRight'}\r\n                        code={'39'}\r\n                        onKeyHandle={() => {\r\n                          nextSlide()\r\n                        }}\r\n                      />\r\n                      <KeyHandler\r\n                        keyValue={'Escape'}\r\n                        code={'27'}\r\n                        onKeyHandle={() => {\r\n                          if (!isBrowserFullScreen) {\r\n                            closeModal()\r\n                          }\r\n                        }}\r\n                      />\r\n\r\n                      {/* Support for Internet Explorer and Edge key values  */}\r\n                      <KeyHandler\r\n                        keyValue={'Left'}\r\n                        code={'37'}\r\n                        onKeyHandle={() => {\r\n                          prevSlide()\r\n                        }}\r\n                      />\r\n                      <KeyHandler\r\n                        keyValue={'Right'}\r\n                        code={'39'}\r\n                        onKeyHandle={() => {\r\n                          nextSlide()\r\n                        }}\r\n                      />\r\n                      <KeyHandler\r\n                        keyValue={'Esc'}\r\n                        code={'27'}\r\n                        onKeyHandle={() => {\r\n                          if (!isBrowserFullScreen) {\r\n                            closeModal()\r\n                          }\r\n                        }}\r\n                      />\r\n\r\n                      {showControls && (\r\n                        <div className={`${styles.controls}`}>\r\n                          {disableZoom ||\r\n                            displayMagnificationIcons == false ? null : (\r\n                            <motion.div>\r\n                              <ZoomIn\r\n                                size={24}\r\n                                color={iconColor ? iconColor : undefined}\r\n                                className={`${styles.lightboxjs_icon} ${iconColor ? '' : getIconStyle()\r\n                                  }`}\r\n                                style={iconColor ? { color: iconColor } : {}}\r\n                                onClick={() => {\r\n                                  if (enableMagnifyingGlass) {\r\n                                    initMagnifyingGlass()\r\n                                  }\r\n                                  if (zoomReferences.current[zoomIdx] != null) {\r\n                                    zoomReferences.current[zoomIdx]!.zoomIn()\r\n                                  }\r\n                                }}\r\n                              />\r\n\r\n                            </motion.div>\r\n                          )}\r\n\r\n                          {disableZoom ||\r\n                            displayMagnificationIcons == false ? null : (\r\n                            <motion.div>\r\n                              <ZoomOut\r\n                                size={24}\r\n                                className={`${styles.lightboxjs_icon} ${iconColor ? '' : getIconStyle()\r\n                                  }`}\r\n                                style={iconColor ? { color: iconColor } : {}}\r\n                                color={iconColor ? iconColor : undefined}\r\n                                onClick={() => {\r\n                                  zoomReferences.current[zoomIdx]!.zoomOut()\r\n                                }}\r\n                              />\r\n                            </motion.div>\r\n                          )}\r\n\r\n                          {displayDownloadBtn() ? (\r\n                            <Download\r\n                            size={24}\r\n                              className={`${styles.lightboxjs_icon} ${iconColor ? '' : getIconStyle()\r\n                                }`}\r\n                              style={iconColor ? { color: iconColor } : {}}\r\n                              color={iconColor ? iconColor : undefined}\r\n                              onClick={() => {\r\n                                saveImage()\r\n                              }}\r\n                            />\r\n                          ) : null}\r\n\r\n                          {displayFullScreenIcon ? (\r\n                            isBrowserFullScreen ? (\r\n                              <motion.div>\r\n                                <FullscreenExit\r\n                                  size={24}\r\n                                  className={`${styles.lightboxjs_icon} ${iconColor ? '' : getIconStyle()\r\n                                    }`}\r\n                                  style={iconColor ? { color: iconColor } : {}}\r\n                                  color={iconColor ? iconColor : undefined}\r\n                                  onClick={() => {\r\n                                    isBrowserFullScreen\r\n                                      ? exitFullScreen()\r\n                                      : fullScreen()\r\n                                  }}\r\n                                />\r\n                              </motion.div>\r\n                            ) : (\r\n                              <motion.div>\r\n                                <Fullscreen\r\n                                  size={24}\r\n                                  className={`${styles.lightboxjs_icon} ${iconColor ? '' : getIconStyle()\r\n                                    }`}\r\n                                  style={iconColor ? { color: iconColor } : {}}\r\n                                  color={iconColor ? iconColor : undefined}\r\n                                  onClick={() => {\r\n                                    isBrowserFullScreen\r\n                                      ? exitFullScreen()\r\n                                      : fullScreen()\r\n                                  }}\r\n                                />\r\n                              </motion.div>\r\n                            )\r\n                          ) : null}\r\n\r\n                          {displayThumbnailIcon ? (\r\n                            <motion.div>\r\n                              <GridFill\r\n                                size={24}\r\n                                className={`${styles.lightboxjs_icon} ${iconColor ? '' : getIconStyle()\r\n                                  }`}\r\n                                style={iconColor ? { color: iconColor } : {}}\r\n                                color={iconColor ? iconColor : undefined}\r\n                                onClick={() => {\r\n                                  setShowThumbnails(!showThumbnails)\r\n                                }}\r\n                              />\r\n                            </motion.div>\r\n                          ) : null}\r\n\r\n                          {shouldDisplayMagnifyingGlassIcon() ? (\r\n                            <motion.div>\r\n                              <Search\r\n                                size={24}\r\n                                className={`${styles.lightboxjs_icon} ${iconColor ? '' : getIconStyle()\r\n                                  }`}\r\n                                style={iconColor ? { color: iconColor } : {}}\r\n                                color={iconColor ? iconColor : undefined}\r\n                                onClick={() => initMagnifyingGlass()}\r\n                              />\r\n                            </motion.div>\r\n                          ) : null}\r\n\r\n                          {shouldDisplaySlideshowIcon() ? (\r\n                            <motion.div className={styles.slideshowPlayBtn}>\r\n                              {isSlideshowPlaying ? (\r\n                                <PauseCircleFill\r\n                                  size={24}\r\n                                  className={`${styles.lightboxjs_icon} ${iconColor ? '' : getIconStyle()\r\n                                    }`}\r\n                                  style={iconColor ? { color: iconColor } : {}}\r\n                                  color={iconColor ? iconColor : undefined}\r\n                                  onClick={() => {\r\n                                    isSlideshowPlaying\r\n                                      ? stopSlideshow()\r\n                                      : playSlideshow()\r\n                                  }}\r\n                                />\r\n                              ) : (\r\n                                <PlayCircleFill\r\n                                  size={24}\r\n                                  className={`${styles.lightboxjs_icon} ${iconColor ? '' : getIconStyle()\r\n                                    }`}\r\n                                  style={iconColor ? { color: iconColor } : {}}\r\n                                  color={iconColor ? iconColor : undefined}\r\n                                  onClick={() => {\r\n                                    isSlideshowPlaying\r\n                                      ? stopSlideshow()\r\n                                      : playSlideshow()\r\n                                  }}\r\n                                />\r\n                              )}\r\n                            </motion.div>\r\n                          ) : null}\r\n                        </div>\r\n                      )}\r\n                      <motion.div className={styles.closeIcon}>\r\n                        <XLg\r\n                          size={24}\r\n                          className={`${styles.lightboxjs_icon} ${iconColor ? '' : getIconStyle()\r\n                            }`}\r\n                          color={iconColor ? iconColor : undefined}\r\n                          style={iconColor ? { color: iconColor } : {}}\r\n                          onClick={() => {\r\n                            closeModal()\r\n                          }}\r\n                        />\r\n                      </motion.div>\r\n                    </section>\r\n                    {displayArrows() ?\r\n\r\n                      <div>\r\n                        <div\r\n                          className={\r\n                            rightArrowStyle\r\n                              ? `${styles.next1} ${getArrowStyle()} imageModal`\r\n                              : \"imageModal\"\r\n                          }\r\n                          style={rightArrowStyle}\r\n                          onClick={() => {\r\n                            nextSlide()\r\n                          }}\r\n                        >\r\n                          {nextArrowElem ? nextArrowElem :\r\n                            <span className={`${props.rightArrowClassname ? props.rightArrowClassname : \"\"}`}>&#10095;</span>\r\n                          }\r\n                        </div>\r\n                        <div\r\n                          className={\r\n                            leftArrowStyle\r\n                              ? `${styles.prev1} ${getArrowStyle()} imageModal`\r\n                              : \"imageModal\"\r\n                          }\r\n                          style={leftArrowStyle}\r\n                          onClick={() => {\r\n                            prevSlide()\r\n                          }}\r\n                        >\r\n                          {prevArrowElem ? prevArrowElem :\r\n                            <span className={`${props.leftArrowClassname ? props.leftArrowClassname : \"\"}`}>&#10094;</span>\r\n                          }\r\n                        </div>\r\n                      </div>\r\n                      : null\r\n                    }\r\n\r\n                    <AnimatePresence initial={false} custom={direction}>\r\n                      <ReactSwipe\r\n                        className={`${showThumbnails\r\n                            ? styles.slideshowInnerContainerThumbnails\r\n                            : ''\r\n                          } ${isImageCaption() ? styles.slideImageAndCaption : ''\r\n                          } \r\n                    ${props.fullScreen\r\n                            ? styles.slideshowInnerContainerFullScreen\r\n                            : styles.slideshowInnerContainer\r\n                          }  `}\r\n                        swipeOptions={reactSwipeOptions}\r\n                        ref={(el) => (reactSwipeEl = el)}\r\n                        childCount={images.length}\r\n                      >\r\n                        {regularImgPaneNodes} \r\n                      </ReactSwipe>\r\n\r\n                      {displayLoader == true && !isHTMLVideo(slideIndex) ? (\r\n                        <span\r\n                          key='loader'\r\n                          className={`${styles.loader\r\n                            } ${getLoaderThemeClass()}`}\r\n                        ></span>\r\n                      ) : null}\r\n                    </AnimatePresence>\r\n\r\n                    <div\r\n                      className={`${styles.thumbnailsOuterContainer} ${isImageCaption() ? styles.thumbnailsAndCaption : ''}`}\r\n                      style={\r\n                        isImageCaption()\r\n                          ? {\r\n                            backgroundColor: backgroundColor\r\n                          }\r\n                          : {}\r\n                      }\r\n                    >\r\n                      {isImageCaption() && !zoomedIn ? (\r\n                        <div className={`${styles.imgTitleContainer} imageModal`}>\r\n                          <p\r\n                            className={`${styles.imgTitle}`}\r\n                            key={'imgCaption' + slideIndex}\r\n                            style={\r\n                              props.captionStyle\r\n                                ? props.captionStyle\r\n                                : { color: textColor }\r\n                            }\r\n                          >\r\n                            {getImageCaption()}\r\n                          </p>\r\n                        </div>\r\n                      ) : null}\r\n\r\n                      <AnimatePresence initial={animatedThumbnails}>\r\n                        {showThumbnails !== false && (\r\n                          <motion.div\r\n                            initial={'hidden'}\r\n                            exit={'hidden'}\r\n                            animate={'visible'}\r\n                            style={\r\n                              imagesLoaded ? {} : { display: 'displayHidden' }\r\n                            }\r\n                            transition={{\r\n                              type: 'spring',\r\n                              duration: 0.75\r\n                            }}\r\n                            variants={thumbnailVariants}\r\n                            className={`${styles.thumbnails} ${isImageCaption()\r\n                                ? styles.thumbnailsWithCaption\r\n                                : ''\r\n                              }`}\r\n                          >\r\n                            <ScrollContainer\r\n                              className='scroll-container'\r\n                              vertical={true}\r\n                              horizontal={false}\r\n                              hideScrollbars={false}\r\n                            >\r\n                              {frameworkID == 'next' &&\r\n\r\n                                props.images\r\n                                ? props.images.map((img, index) => (\r\n                                  <img\r\n                                    className={`${styles.thumbnail} imageModal`}\r\n                                    src={getThumbnailImgSrcNext(img, index)}\r\n                                    style={\r\n                                      slideIndex === index\r\n                                        ? { border: thumbnailBorder }\r\n                                        : { border: inactiveThumbnailBorder }\r\n                                    }\r\n                                    key={index}\r\n                                    onClick={() => {\r\n                                      thumbnailClick(index);\r\n                                    }}\r\n                                    alt={img.alt}\r\n                                    onLoad={() => setImagesLoaded(true)}\r\n                                  />\r\n                                ))\r\n                                : // Not Next.js\r\n                                images.map((img, index) => (\r\n                                  <img\r\n                                    src={getThumbnailImgSrc(img, index)}\r\n                                    style={\r\n                                      slideIndex === index\r\n                                        ? { border: thumbnailBorder }\r\n                                        : { border: inactiveThumbnailBorder }\r\n                                    }\r\n                                    className={`${styles.thumbnail} imageModal`}\r\n                                    key={index}\r\n                                    onClick={() => {\r\n                                      thumbnailClick(index)\r\n                                    }}\r\n                                    alt={img.alt}\r\n                                    onLoad={() => setImagesLoaded(true)}\r\n                                  />\r\n                                ))}\r\n                            </ScrollContainer>\r\n                          </motion.div>\r\n                        )}\r\n                      </AnimatePresence>\r\n                    </div>\r\n                  </div>\r\n                </motion.div>\r\n              </Div100vh>\r\n            </Portal>\r\n          )}\r\n        </AnimatePresence>\r\n      </AnimateSharedLayout>\r\n    </div>\r\n  </div>\r\n}\r\n","import React , {useEffect, useState, useRef} from 'react'\r\nimport { SlideshowLightbox } from './SlideshowLightbox';\r\n\r\nconst themes: any = {\r\n  day: {\r\n    background: 'white',\r\n    iconColor: 'black',\r\n    thumbnailBorder: 'solid transparent 2px',\r\n    textColor: 'black'\r\n  },\r\n  night: {\r\n    background: '#151515',\r\n    iconColor: 'silver',\r\n    thumbnailBorder: 'solid rgb(107, 133, 206)  2px',\r\n    textColor: 'silver'\r\n  },\r\n  lightbox: {\r\n    background: 'rgba(12, 12, 12, 0.93)',\r\n    iconColor: 'silver',\r\n    thumbnailBorder: 'solid rgb(107, 133, 206) 2px',\r\n    textColor: 'silver'\r\n  }\r\n}\r\nconst defaultTheme = \"lightbox\";\r\n\r\nexport const AnimImage = (props) => {\r\n  const [backgroundColor, setBackgroundColor] = useState(props.backgroundColor ? props.backgroundColor : themes[defaultTheme].background);\r\n  const [iconColor, setIconColor] = useState(props.iconColor ? props.iconColor : themes[defaultTheme].iconColor);\r\n  const [state, setState] = React.useState();\r\n\r\n  useEffect(() => {\r\n\r\n      if (props.theme) {\r\n        if (themes[props.theme]) {\r\n          setBackgroundColor(themes[props.theme].background);\r\n          setIconColor(themes[props.theme].iconColor);\r\n        }\r\n      }\r\n\r\n      return () => {\r\n      };\r\n\r\n  }, [state]);\r\n\r\n    return (\r\n        <SlideshowLightbox backgroundColor={backgroundColor} iconColor={iconColor} showThumbnails={false}\r\n        theme={props.theme}\r\n          showArrows={false} showThumbnailIcon={false} showSlideshowIcon={false}>\r\n            <img src={props.image.src} alt={props.image.title} />\r\n        </SlideshowLightbox>\r\n  );\r\n\r\n}","import * as React from 'react'\nimport { useState, useEffect, useRef } from 'react'\nimport { motion, AnimatePresence, AnimateSharedLayout } from 'framer-motion'\nimport styles from './styles.module.css'\nimport axios from \"axios\";\nimport {\n  wrapNums,\n  getVideoHeight,\n  getVideoWidth,\n  shouldAutoplay,\n  openFullScreen,\n  closeFullScreen,\n} from './utility'\nimport {\n  ZoomIn,\n  ZoomOut,\n  Fullscreen,\n  PlayCircleFill,\n  Search,\n  Download,\n  PauseCircleFill,\n  FullscreenExit,\n  XLg,\n  GridFill\n} from 'react-bootstrap-icons'\nimport ScrollContainer from 'react-indiana-drag-scroll'\nimport Magnifier from 'react-magnifier'\nimport { Portal } from 'react-portal'\nimport { TransformWrapper, TransformComponent,  ReactZoomPanPinchRef, } from 'react-zoom-pan-pinch'\nimport ReactSwipe from 'react-swipe'\nimport { saveAs } from 'file-saver'\nimport Div100vh from 'react-div-100vh'\nimport KeyHandler from 'react-key-handler'\nimport {SlideshowLightbox} from \"./SlideshowLightbox\"\nimport {AnimImage} from \"./AnimImage\"\nimport { useIsomorphicLayoutEffect } from 'usehooks-ts'\nimport { useInterval } from 'usehooks-ts'\n\nexport const initLightboxJS = (licenseKey: string, plan_type: string) => {\n  var body = {\n    license_key: licenseKey,\n    plan_type: plan_type,\n  };\n\n  axios.post('https://lightboxjs-server.herokuapp.com/license', body)\n    .then(function (response) {\n\n      let licenseKeyValid = response.data.license_valid;\n\n      if (!licenseKeyValid) {\n        console.warn(\"Lightbox.js: Invalid license key specified, a valid license key must be provided.\")\n      }\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n\n};\n\n\nexport { SlideshowLightbox, AnimImage as Image }"],"names":["wrapNums","minNum","maxNum","v","rangeSize","shouldAutoplay","elem","type","autoPlay","getVideoHeight","videoHeight","getVideoWidth","videoWidth","thumbnailVariants","visible","opacity","y","hidden","themes","day","background","iconColor","thumbnailBorder","textColor","night","lightbox","inactiveThumbnailBorder","defaultTheme","mobileWidth","SlideshowLightbox","props","createCustomThumbnailBorder","_useState","useState","_useState$","imgSlideIndex","direction","setImgSlideIndex","_useState2","showModal","setShowModal","_useState3","isSlideshowPlaying","setIsSlideshowPlaying","_useState4","images","setImages","_useState5","magnifyingGlass","magnifyingGlassFeature","_useState6","disableImageZoom","disableZoom","setDisableZoom","_useState7","previewImageElems","setPreviewImageElems","slideIndex","length","_useState8","continuous","startSlide","stopPropagation","reactSwipeOptions","setReactSwipeOptions","_useState9","slideshowInterval","_useState10","rightArrowStyle","_useState11","leftArrowStyle","_useState12","zoomedIn","setZoomedIn","_useState13","roundedImages","isRounded","setIsRounded","_useState14","isOpen","setIsOpen","_useState15","showControls","setShowControls","_useState16","showFullScreenIcon","displayFullScreenIcon","setDisplayFullScreenIcon","_useState17","showThumbnailIcon","displayThumbnailIcon","setDisplayThumbnailIcon","_useState18","showSlideshowIcon","displaySlideshowIcon","setDisplaySlideshowIcon","_useState19","showMagnificationIcons","displayMagnificationIcons","setDisplayMagnificationIcons","_useState20","nextArrow","nextArrowElem","_useState21","prevArrow","prevArrowElem","_useState22","modalClose","modalCloseOption","_useState23","downloadImages","showDownloadBtn","_useState24","rtl","isRTL","_useState25","framework","frameworkID","_useState26","lightboxIdentifier","_useState27","fullScreen","imageFullScreen","_useState28","licenseKey","_useState29","showLoader","_useState30","displayLoader","setDisplayLoader","_useState31","videoCurrentlyPlaying","setVideoCurrentlyPlaying","_useState32","width","setWidth","_useState33","isBrowserFullScreen","setIsBrowserFullScreen","_useState34","enableMagnifyingGlass","setMagnifyingGlass","_useState35","imagesLoaded","setImagesLoaded","_useState36","refIndex","setRefIndex","imageRef","useRef","_useState37","zoomIdx","setZoomIdx","_useState38","imgContainHeight","setImgContainHeight","_useState39","imgContainWidth","setImgContainWidth","_useState40","isInit","setIsInit","zoomRef","_useState41","_useState42","zoomReferences","videoReferences","_useState43","backgroundColor","setBackgroundColor","_useState44","_useState45","setTextColor","_useState46","useCoverMode","coverMode","_useState47","_useState48","showThumbnails","setShowThumbnails","_useState49","animateThumbnails","animatedThumbnails","_useState50","imgAnimation","setImgAnimation","_useState51","arrowStyle","isMobile","getLoaderThemeClass","theme","styles","night_loader","day_loader","wheelEvent","ref","e","zoomEvent","state","scale","isImageCaption","caption","displayDownloadBtn","isVideo","handleWindowResize","window","innerWidth","shouldDisplayMagnifyingGlassIcon","getImageStyle","styleObject","shouldDisplaySlideshowIcon","thumbnailClick","index","initLoader","resetVideo","resetImage","setCurrentSlide","checkModalClick","modals","document","getElementsByClassName","arr_modals","Array","from","i","clickInside","contains","target","closeModal","getRTLIndex","img_gallery_length","getElementById","openFullScreen","initFullScreenChangeEventListeners","exitFullScreenHandler","closeFullScreen","removeFullScreenChangeEventListeners","exitFullScreen","updateImageSlideshow","newDirection","reactSwipeEl","prev","next","displayArrows","showArrows","newIndex","getImageCaption","getArrowStyle","dark_icon","light_icon","getIconStyle","dark_header_icon","light_header_icon","slide","dispatchOpenEvent","onOpen","dispatchCloseEvent","onClose","openModal","num","setItemLoaded","setImagesItemLoaded","imgs","nextSlide","prevSlide","pauseVideo","current","pause","openModalWithSlideNum","reactSwipeOptionConfig","saveImage","original","saveAs","src","playSlideshow","stopSlideshow","videoID","initMagnifyingGlass","resetTransform","getThumbnailImgSrc","img","thumbnail","getThumbnailImgSrcNext","img_src","isArray","initWrapperClassname","className","lightboxjs","initStyling","imageSlideElement","imageElem","React","fullScreenLightboxImg","lightbox_img","style","loading","onLoad","id","render","imgSlide","img_link","_images$index$src","coverImageInLightbox","getLightboxElem","videoSlideElement","isPictureElement","elem_metadata","maxWidthFull","maxWidthWithoutMagnifier","Object","keys","map","format","key","srcSet","picture","isHTMLVideo","videoElem","videoOuterContainer","ytVideo","height","el","title","frameBorder","allow","allowFullScreen","htmlVideo","htmlVideoOuterContainer","cursorPointer","lightboxVideo","onPlay","controls","videoSrc","regularImgPaneNodes","apply","_","Magnifier","magnifyWrapper","mgShowOverflow","slidePane","TransformWrapper","onWheel","disabled","onZoom","centerZoomedOut","initialScale","TransformComponent","wrapperStyle","margin","contentStyle","marginLeft","marginRight","display","slideshow_img_fullscreen","slideshow_img","lightboxImgClass","initImageDimensions","ratio","naturalWidth","naturalHeight","addEventListener","removeEventListener","initEventListeners","isBrowser","removeEventListeners","setReducedMotion","mediaQuery","matches","checkAndInitReducedMotion","reducedMotionMediaQuery","matchMedia","initPropsForControlIcons","undefined","initProps","useInterval","lightbox_elem","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","msExitFullscreen","initRTLImages","imagesMetadataCopy","reverse","imagesRTLCopy","initImages","isMounted","updateImages","filterImages","filter","cover","children","img_gallery","querySelectorAll","img_elements","_loop","attr_val","getAttribute","classList","add","push","alt","loaded","tagName","corresponding_img_item","img_alt","showAllImages","imgArray","k","img_elem","img_obj","useEffect","displayedImages","slideNum","open","startingSlideIndex","console","error","onClick","img_index","AnimateSharedLayout","AnimatePresence","initial","Portal","Div100vh","motion","div","slideshowAnimContainer","exit","animate","transition","duration","lightboxContainer","iconsHeader","color","KeyHandler","keyValue","code","onKeyHandle","ZoomIn","size","lightboxjs_icon","zoomIn","ZoomOut","zoomOut","Download","FullscreenExit","Fullscreen","GridFill","Search","slideshowPlayBtn","PauseCircleFill","PlayCircleFill","closeIcon","XLg","next1","rightArrowClassname","prev1","leftArrowClassname","custom","ReactSwipe","slideshowInnerContainerThumbnails","slideImageAndCaption","slideshowInnerContainerFullScreen","slideshowInnerContainer","swipeOptions","childCount","loader","thumbnailsOuterContainer","thumbnailsAndCaption","imgTitleContainer","imgTitle","captionStyle","variants","thumbnails","thumbnailsWithCaption","ScrollContainer","vertical","horizontal","hideScrollbars","border","AnimImage","setIconColor","_React$useState","image","initLightboxJS","plan_type","body","license_key","axios","post","then","response","licenseKeyValid","data","license_valid","warn","log"],"mappings":";;;;;;;;;;;;;;;;;;;AAEO,IAAMA,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,MAAM,EAAEC,MAAM,EAAEC,CAAC,EAAK;EACzC,IAAIC,SAAS,GAAGF,MAAM,GAAGD,MAAM;EAC/B,OAAQ,CAAE,CAACE,CAAC,GAAGF,MAAM,IAAIG,SAAS,GAAIA,SAAS,IAAIA,SAAS,GAAIH,MAAM;AAC5E,CAAC;AAED,AAAO,IAAMI,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,IAAI,EAAK;EAItC,IAAIA,IAAI,CAACC,IAAI,IAAI,IAAI,IAAID,IAAI,CAACE,QAAQ,IAAI,IAAI,IAAIF,IAAI,CAACE,QAAQ,IAAI,MAAM,EAAE;IACzE,OAAO,KAAK;GACb,MAAM,IAAIF,IAAI,CAACE,QAAQ,IAAI,KAAK,IAAIF,IAAI,CAACE,QAAQ,IAAI,OAAO,EAAE;IAC7D,OAAO,KAAK;;EAEd,OAAO,IAAI;AACb,CAAC;AAED,AAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIH,IAAI,EAAK;EACtC,IAAIA,IAAI,CAACI,WAAW,EAAE;IACpB,OAAOJ,IAAI,CAACI,WAAW;;EAEzB,OAAO,KAAK;AACd,CAAC;AAED,AAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAIL,IAAI,EAAK;EACrC,IAAIA,IAAI,CAACM,UAAU,EAAE;IACnB,OAAON,IAAI,CAACM,UAAU;;EAExB,OAAO,KAAK;AACd,CAAC;;ACMD,IAAIC,iBAAiB,GAAQ;EAC3BC,OAAO,EAAE;IAAEC,OAAO,EAAE,CAAC;IAAEC,CAAC,EAAE;GAAG;EAC7BC,MAAM,EAAE;IAAEF,OAAO,EAAE,CAAC;IAAEC,CAAC,EAAE;;CAC1B;AAED,IAAME,MAAM,GAAQ;EAClBC,GAAG,EAAE;IACHC,UAAU,EAAE,OAAO;IACnBC,SAAS,EAAE,OAAO;IAClBC,eAAe,EAAE,uBAAuB;IACxCC,SAAS,EAAE;GACZ;EACDC,KAAK,EAAE;IACLJ,UAAU,EAAE,SAAS;IACrBC,SAAS,EAAE,SAAS;IACpBC,eAAe,EAAE,+BAA+B;IAChDC,SAAS,EAAE;GACZ;EACDE,QAAQ,EAAE;IACRL,UAAU,EAAE,wBAAwB;IACpCC,SAAS,EAAE,SAAS;IACpBC,eAAe,EAAE,8BAA8B;IAC/CC,SAAS,EAAE;;CAEd;AAGD,IAAMG,uBAAuB,GAAG,uBAAuB;AAEvD,AACA,IAAMC,YAAY,GAAG,OAAO;AAC5B,IAAMC,WAAW,GAAG,GAAG;AAevB,IAAaC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,KAAU;EAE1C,IAAMC,2BAA2B,GAAG,SAA9BA,2BAA2BA;IAC/B,IAAID,KAAK,CAACR,eAAe,EAAE;MACzB,kBAAgBQ,KAAK,CAACR,eAAe;;GAExC;EAED,IAAAU,SAAA,GAAuDC,cAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAAAC,UAAA,GAAAF,SAAA;IAA/DG,aAAa,GAAAD,UAAA;IAAEE,SAAS,GAAAF,UAAA;IAAGG,gBAAgB,GAAAL,SAAA;EACnD,IAAAM,UAAA,GAAkCL,cAAQ,CAAC,KAAK,CAAC;IAA1CM,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAC9B,IAAAG,UAAA,GAAoDR,cAAQ,CAAC,KAAK,CAAC;IAA5DS,kBAAkB,GAAAD,UAAA;IAAEE,qBAAqB,GAAAF,UAAA;EAEhD,IAAAG,UAAA,GAA4BX,cAAQ,CAAc,EAAE,CAAC;IAA9CY,MAAM,GAAAD,UAAA;IAAEE,SAAS,GAAAF,UAAA;EAExB,IAAAG,UAAA,GAA6Dd,cAAQ,CACnEH,KAAK,CAACkB,eAAe,GAAGlB,KAAK,CAACkB,eAAe,GAAG,KAAK,CACtD;IAFMC,sBAAsB,GAAAF,UAAA;EAI7B,IAAAG,UAAA,GAAsCjB,cAAQ,CAC5CH,KAAK,CAACqB,gBAAgB,GAAGrB,KAAK,CAACqB,gBAAgB,GAAG,KAAK,CACxD;IAFMC,WAAW,GAAAF,UAAA;IAAEG,cAAc,GAAAH,UAAA;EAIlC,IAAAI,UAAA,GAAkDrB,cAAQ,CAAQ,EAAE,CAAC;IAA9DsB,iBAAiB,GAAAD,UAAA;IAAEE,oBAAoB,GAAAF,UAAA;EAE9C,IAAMG,UAAU,GAAGzD,QAAQ,CAAC,CAAC,EAAE6C,MAAM,CAACa,MAAM,EAAEvB,aAAa,CAAC;EAC5D,IAAAwB,UAAA,GAAkD1B,cAAQ,CAAC;MACzD2B,UAAU,EAAE,IAAI;MAChBC,UAAU,EAAE,CAAC;MACbC,eAAe,EAAE;KAClB,CAAC;IAJKC,iBAAiB,GAAAJ,UAAA;IAAEK,oBAAoB,GAAAL,UAAA;EAM9C,IAAAM,UAAA,GAAkDhC,cAAQ,CACxDH,KAAK,CAACoC,iBAAiB,GAAGpC,KAAK,CAACoC,iBAAiB,GAAG,IAAI,CACzD;IAFMA,iBAAiB,GAAAD,UAAA;EAIxB,IAAAE,WAAA,GAA8ClC,cAAQ,CACpDH,KAAK,CAACsC,eAAe,GAAGtC,KAAK,CAACsC,eAAe,GAAG,EAAE,CACnD;IAFMA,eAAe,GAAAD,WAAA;EAItB,IAAAE,WAAA,GAA4CpC,cAAQ,CAClDH,KAAK,CAACwC,cAAc,GAAGxC,KAAK,CAACwC,cAAc,GAAG,EAAE,CACjD;IAFMA,cAAc,GAAAD,WAAA;EAIrB,IAAAE,WAAA,GAAgCtC,cAAQ,CAAC,KAAK,CAAC;IAAxCuC,QAAQ,GAAAD,WAAA;IAAEE,WAAW,GAAAF,WAAA;EAE5B,IAAAG,WAAA,GAAkCzC,cAAQ,CACxCH,KAAK,CAAC6C,aAAa,GAAG7C,KAAK,CAAC6C,aAAa,GAAG,KAAK,CAClD;IAFMC,SAAS,GAAAF,WAAA;IAAEG,YAAY,GAAAH,WAAA;EAI9B,IAAAI,WAAA,GAA4B7C,cAAQ,CAAC,KAAK,CAAC;IAApC8C,MAAM,GAAAD,WAAA;IAAEE,SAAS,GAAAF,WAAA;EAExB,IAAAG,WAAA,GAAwChD,cAAQ,CAC9CH,KAAK,CAACoD,YAAY,GAAGpD,KAAK,CAACoD,YAAY,GAAG,IAAI,CAC/C;IAFMA,YAAY,GAAAD,WAAA;IAAEE,eAAe,GAAAF,WAAA;EAIpC,IAAAG,WAAA,GAA0DnD,cAAQ,CAChEH,KAAK,CAACuD,kBAAkB,GAAGvD,KAAK,CAACuD,kBAAkB,GAAG,IAAI,CAC3D;IAFMC,qBAAqB,GAAAF,WAAA;IAAEG,wBAAwB,GAAAH,WAAA;EAItD,IAAAI,WAAA,GAAwDvD,cAAQ,CAC9DH,KAAK,CAAC2D,iBAAiB,GAAG3D,KAAK,CAAC2D,iBAAiB,GAAG,IAAI,CACzD;IAFMC,oBAAoB,GAAAF,WAAA;IAAEG,uBAAuB,GAAAH,WAAA;EAIpD,IAAAI,WAAA,GAAwD3D,cAAQ,CAC9DH,KAAK,CAAC+D,iBAAiB,GAAG/D,KAAK,CAAC+D,iBAAiB,GAAG,IAAI,CACzD;IAFMC,AAAsBC,uBAAuB,GAAAH,WAAA;EAIpD,IAAAI,WAAA,GAAkE/D,cAAQ,CACxEH,KAAK,CAACmE,sBAAsB,GAAGnE,KAAK,CAACmE,sBAAsB,GAAG,IAAI,CACnE;IAFMC,yBAAyB,GAAAF,WAAA;IAAEG,4BAA4B,GAAAH,WAAA;EAI9D,IAAAI,WAAA,GAA0CnE,cAAQ,CAChDH,KAAK,CAACuE,SAAS,GAAGvE,KAAK,CAACuE,SAAS,GAAG,IAAI,CACzC;IAFMC,aAAa,GAAAF,WAAA;EAIpB,IAAAG,WAAA,GAA0CtE,cAAQ,CAChDH,KAAK,CAAC0E,SAAS,GAAG1E,KAAK,CAAC0E,SAAS,GAAG,IAAI,CACzC;IAFMC,aAAa,GAAAF,WAAA;EAIpB,IAAAG,WAAA,GAAgDzE,cAAQ,CACtDH,KAAK,CAAC6E,UAAU,GAAG7E,KAAK,CAAC6E,UAAU,GAAG,SAAS,CAChD;IAFMC,gBAAgB,GAAAF,WAAA;EAIvB,IAAAG,WAAA,GAA8C5E,cAAQ,CACpDH,KAAK,CAACgF,cAAc,GAAGhF,KAAK,CAACgF,cAAc,GAAG,KAAK,CACpD;IAFMC,eAAe,GAAAF,WAAA;EAItB,IAAAG,WAAA,GAA0B/E,cAAQ,CAACH,KAAK,CAACmF,GAAG,GAAGnF,KAAK,CAACmF,GAAG,GAAG,KAAK,CAAC;IAA1DC,KAAK,GAAAF,WAAA;EAEZ,IAAAG,WAAA,GAAsClF,cAAQ,CAC5CH,KAAK,CAACsF,SAAS,GAAGtF,KAAK,CAACsF,SAAS,GAAG,EAAE,CACvC;IAFMC,WAAW,GAAAF,WAAA;EAGlB,IAAAG,WAAA,GAAoDrF,cAAQ,CAC1DH,KAAK,CAACyF,kBAAkB,GAAGzF,KAAK,CAACyF,kBAAkB,GAAG,KAAK,CAC5D;IAFMA,kBAAkB,GAAAD,WAAA;EAGzB,IAAAE,WAAA,GAA8CvF,cAAQ,CACpDH,KAAK,CAAC2F,UAAU,GAAG3F,KAAK,CAAC2F,UAAU,GAAG,KAAK,CAC5C;IAFMC,eAAe,GAAAF,WAAA;EAGtB,IAAAG,WAAA,GAAoC1F,cAAQ,CAC1CH,KAAK,CAAC8F,UAAU,GAAG9F,KAAK,CAAC8F,UAAU,GAAG,EAAE,CACzC;EACD,IAAAC,WAAA,GAAoC5F,cAAQ,CAC1CH,KAAK,CAACgG,UAAU,GAAGhG,KAAK,CAACgG,UAAU,GAAG,KAAK,CAC5C;EAED,IAAAC,WAAA,GAA0C9F,cAAQ,CAChDH,KAAK,CAACgG,UAAU,GAAGhG,KAAK,CAACgG,UAAU,GAAG,KAAK,CAC5C;IAFME,aAAa,GAAAD,WAAA;IAAEE,gBAAgB,GAAAF,WAAA;EAItC,IAAAG,WAAA,GAA0DjG,cAAQ,CAAC,KAAK,CAAC;IAAlEkG,qBAAqB,GAAAD,WAAA;IAAEE,wBAAwB,GAAAF,WAAA;EAEtD,IAAAG,WAAA,GAA0BpG,cAAQ,CAAC,CAAC,CAAC;IAA9BqG,KAAK,GAAAD,WAAA;IAAEE,QAAQ,GAAAF,WAAA;EAEtB,IAAAG,WAAA,GAAsDvG,cAAQ,CAAC,KAAK,CAAC;IAA9DwG,mBAAmB,GAAAD,WAAA;IAAEE,sBAAsB,GAAAF,WAAA;EAClD,IAAAG,WAAA,GAAoD1G,cAAQ,CAAC,KAAK,CAAC;IAA5D2G,qBAAqB,GAAAD,WAAA;IAAEE,kBAAkB,GAAAF,WAAA;EAChD,IAAAG,WAAA,GAAwC7G,cAAQ,CAAC,KAAK,CAAC;IAAhD8G,YAAY,GAAAD,WAAA;IAAEE,eAAe,GAAAF,WAAA;EACpC,IAAAG,WAAA,GAAgChH,cAAQ,CAAC,CAAC,CAAC;IAApCiH,QAAQ,GAAAD,WAAA;IAAEE,WAAW,GAAAF,WAAA;EAE5B,IAAMG,QAAQ,GAAsCC,YAAM,CAAC,IAAI,CAAC;EAEhE,IAAAC,WAAA,GAA8BrH,cAAQ,CAAC,CAAC,CAAC;IAAlCsH,OAAO,GAAAD,WAAA;IAAEE,UAAU,GAAAF,WAAA;EAE1B,IAAAG,WAAA,GAAgDxH,cAAQ,CAAC,GAAG,CAAC;IAAtDyH,gBAAgB,GAAAD,WAAA;IAAEE,mBAAmB,GAAAF,WAAA;EAC5C,IAAAG,WAAA,GAA8C3H,cAAQ,CAAC,GAAG,CAAC;IAApD4H,eAAe,GAAAD,WAAA;IAAEE,kBAAkB,GAAAF,WAAA;EAC1C,IAAAG,WAAA,GAA4B9H,cAAQ,CAAC,KAAK,CAAC;IAApC+H,MAAM,GAAAD,WAAA;IAAEE,SAAS,GAAAF,WAAA;EAGxB,IAAMG,OAAO,GAAGb,YAAM,CAAC,IAAI,CAAC;EAC5B,IAAAc,WAAA,GAAoClI,cAAQ,CAAC,IAAI,CAAC;EAClD,IAAAmI,WAAA,GAAgCnI,cAAQ,CAAC,EAAE,CAAC;EAC5C,IAAMoI,cAAc,GAAGhB,YAAM,CAAkC,EAAE,CAAC;EAElE,IAAMiB,eAAe,GAAGjB,YAAM,CAAC,EAAE,CAAC;EAGlC,IAAAkB,WAAA,GAA8CtI,cAAQ,CACpDH,KAAK,CAAC0I,eAAe,GACjB1I,KAAK,CAAC0I,eAAe,GACrBtJ,MAAM,CAACS,YAAY,CAAC,CAACP,UAAU,CACpC;IAJMoJ,eAAe,GAAAD,WAAA;IAAEE,kBAAkB,GAAAF,WAAA;EAK1C,IAAAG,WAAA,GAAkCzI,cAAQ,CACxCH,KAAK,CAACT,SAAS,GAAGS,KAAK,CAACT,SAAS,GAAG,IAAI,CACzC;IAFMA,SAAS,GAAAqJ,WAAA;EAGhB,IAAAC,WAAA,GAAkC1I,cAAQ,CACxCH,KAAK,CAACP,SAAS,GAAGO,KAAK,CAACP,SAAS,GAAGL,MAAM,CAACS,YAAY,CAAC,CAACJ,SAAS,CACnE;IAFMA,SAAS,GAAAoJ,WAAA;IAAEC,YAAY,GAAAD,WAAA;EAI9B,IAAAE,WAAA,GAAkC5I,cAAQ,CACxCH,KAAK,CAACgJ,YAAY,GAAGhJ,KAAK,CAACgJ,YAAY,GAAG,KAAK,CAChD;IAFMC,SAAS,GAAAF,WAAA;EAIhB,IAAAG,WAAA,GAA8C/I,cAAQ,CACpDH,KAAK,CAACR,eAAe,GACjBS,2BAA2B,EAAE,GAC7Bb,MAAM,CAACS,YAAY,CAAC,CAACL,eAAe,CACzC;IAJMA,eAAe,GAAA0J,WAAA;EAMtB,IAAAC,WAAA,GAA4ChJ,cAAQ,CAClDH,KAAK,CAACoJ,cAAc,GAAGpJ,KAAK,CAACoJ,cAAc,GAAG,KAAK,CACpD;IAFMA,cAAc,GAAAD,WAAA;IAAEE,iBAAiB,GAAAF,WAAA;EAGxC,IAAAG,WAAA,GAAoDnJ,cAAQ,CAC1DH,KAAK,CAACuJ,iBAAiB,GAAGvJ,KAAK,CAACuJ,iBAAiB,GAAG,IAAI,CACzD;IAFMC,kBAAkB,GAAAF,WAAA;EAGzB,IAAAG,WAAA,GAAwCtJ,cAAQ,CAC9CH,KAAK,CAAC0J,YAAY,GAAG1J,KAAK,CAAC0J,YAAY,GAAG,SAAS,CACpD;IAFMA,AAAcC,eAAe,GAAAF,WAAA;EAGpC,IAAAG,WAAA,GAAoCzJ,cAAQ,CAC1CH,KAAK,CAAC6J,UAAU,GAAG7J,KAAK,CAAC6J,UAAU,GAAG,MAAM,CAC7C;IAFMA,UAAU,GAAAD,WAAA;EAIjB,IAAME,QAAQ,GAAGtD,KAAK,IAAI1G,WAAW;EAOrC,IAAMiK,mBAAmB,GAAG,SAAtBA,mBAAmBA;IACvB,IAAI/J,KAAK,CAACgK,KAAK,EAAE;MACf,IAAIhK,KAAK,CAACgK,KAAK,IAAI,OAAO,IAAIhK,KAAK,CAACgK,KAAK,IAAI,UAAU,EAAE;QACvD,OAAOC,MAAM,CAACC,YAAY;OAC3B,MAAM,IAAIlK,KAAK,CAACgK,KAAK,IAAI,KAAK,EAAE;QAC/B,OAAOC,MAAM,CAACE,UAAU;;;IAG5B,OAAOF,MAAM,CAACC,YAAY;GAC3B;EAED,IAAME,UAAU,GAA2D,SAArEA,UAAUA,CAA4DC,GAAG,EAAEC,CAAC;IAChFX,eAAe,CAAC,MAAM,CAAC;GAExB;EAED,IAAMY,SAAS,GAAG,SAAZA,SAASA,CAAIF,GAAG,EAAEC,CAAC;IACvB,IAAID,GAAG,CAACG,KAAK,CAACC,KAAK,IAAI,CAAC,EAAE;MACxBd,eAAe,CAAC,SAAS,CAAC;MAE1BhH,WAAW,CAAC,KAAK,CAAC;KACnB,MAAM;MAELA,WAAW,CAAC,IAAI,CAAC;;GAEpB;EAED,IAAM+H,cAAc,GAAG,SAAjBA,cAAcA;IAClB,IAAI1K,KAAK,CAACe,MAAM,IAAIf,KAAK,CAACe,MAAM,CAACY,UAAU,CAAC,CAACgJ,OAAO,EAAE;MACpD,OAAO,IAAI;;IAEb,OAAO,KAAK;GACb;EAED,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA;IACtB,IAAIC,OAAO,CAAClJ,UAAU,CAAC,EAAE;MACvB,OAAO,KAAK;KACb,MAAM;MACL,OAAOsD,eAAe;;GAEzB;EAED,SAAS6F,kBAAkBA;IACzBrE,QAAQ,CAACsE,MAAM,CAACC,UAAU,CAAC;;EAG7B,IAAMC,gCAAgC,GAAG,SAAnCA,gCAAgCA;IACpC,IAAIJ,OAAO,CAAClJ,UAAU,CAAC,EAAE;MACvB,OAAO,KAAK;;IAEd,IAAImI,QAAQ,IAAI,IAAI,EAAE;MACpB,OAAO,KAAK;;IAEd,IAAIlE,eAAe,IAAI,IAAI,EAAE;MAC3B,OAAO,KAAK;;IAGd,IAAIzE,sBAAsB,IAAI,IAAI,EAAE;MAClC,OAAO,IAAI;;IAEb,OAAO,KAAK;GACb;EAED,IAAM+J,aAAa,GAAG,SAAhBA,aAAaA;IACjB,IAAIC,WAAW,GAAG,EAAE;IACpB,IAAIrI,SAAS,EAAE;MACbqI,WAAW,CAAC,cAAc,CAAC,GAAG,MAAM;;IAEtC,IAAIrG,gBAAgB,IAAI,cAAc,EAAE;MACtCqG,WAAW,CAAC,eAAe,CAAC,GAAG,MAAM;;IAEvC,OAAOA,WAAW;GACnB;EAED,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA0BA;IAC9B,IAAIrK,MAAM,EAAE;MACV,IAAIA,MAAM,CAACa,MAAM,IAAI,CAAC,EAAE;QACtB,OAAO,KAAK;;KAEf,MACI,IAAI5B,KAAK,CAACe,MAAM,EAAE;MACrB,IAAIf,KAAK,CAACe,MAAM,CAACa,MAAM,IAAI,CAAC,EAAE;QAC5B,OAAO,KAAK;;;IAGhB,OAAO,IAAI;GACZ;EAED,IAAMyJ,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,KAAK;IAC3BC,UAAU,CAACD,KAAK,CAAC;IACjBE,UAAU,EAAE;IACZC,UAAU,EAAE;IACZC,eAAe,CAACJ,KAAK,CAAC;GACvB;EAED,IAAMK,eAAe,GAAG,SAAlBA,eAAeA,CAAIrB,CAAC;IACxB,IAAMsB,MAAM,GAAGC,QAAQ,CAACC,sBAAsB,CAAC,YAAY,CAAC;IAC5D,IAAIC,UAAU,GAAGC,KAAK,CAACC,IAAI,CAACL,MAAM,CAAC;IACnC,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,UAAU,CAACnK,MAAM,EAAEsK,CAAC,EAAE,EAAE;MAC1C,IAAI1N,IAAI,GAAGuN,UAAU,CAACG,CAAC,CAAC;MACxB,IAAIC,WAAW,GAAG3N,IAAI,CAAC4N,QAAQ,CAAC9B,CAAC,CAAC+B,MAAM,CAAC;MAEzC,IAAIF,WAAW,EAAE;QACf;;;IAIJG,UAAU,EAAE;GACb;EAED,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIC,kBAAkB,EAAEN,CAAC;IACxC,IAAIZ,KAAK;IACT,IAAIY,CAAC,IAAI,CAAC,EAAE;MACVZ,KAAK,GAAGkB,kBAAkB,GAAG,CAAC;KAC/B,MAAM,IAAIN,CAAC,IAAIM,kBAAkB,GAAG,CAAC,EAAE;MACtClB,KAAK,GAAG,CAAC;KACV,MAAM;MACLA,KAAK,GAAGkB,kBAAkB,GAAGN,CAAC,GAAG,CAAC;;IAEpC,OAAOZ,KAAK;GACb;EAaD,IAAM3F,UAAU,GAAG,SAAbA,UAAUA;IACd,IAAIhG,QAAQ,GAAGkM,QAAQ,CAACY,cAAc,CAAC,eAAe,CAAC;IACvDC,cAAc,CAAC/M,QAAQ,CAAC;IACxBiH,sBAAsB,CAAC,IAAI,CAAC;IAC5B+F,kCAAkC,EAAE;GACrC;EAED,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqBA;IAEzB,IACEf,QAAQ,CAAC,oBAAoB,CAAC,IAC9BA,QAAQ,CAAC,eAAe,CAAC,IACzBA,QAAQ,CAAC,qBAAqB,CAAC,EAC/B;MACAjF,sBAAsB,CAAC,IAAI,CAAC;KAC7B,MAAM;MACL,IAAID,mBAAmB,EAAE;QACvBkG,eAAe,CAAChB,QAAQ,CAAC;;MAE3BiB,oCAAoC,EAAE;MACtClG,sBAAsB,CAAC,KAAK,CAAC;;GAEhC;EAED,IAAMmG,cAAc,GAAG,SAAjBA,cAAcA;IAClBF,eAAe,CAAChB,QAAQ,CAAC;IACzBiB,oCAAoC,EAAE;IACtClG,sBAAsB,CAAC,KAAK,CAAC;GAC9B;EAED,IAAMoG,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAIC,YAAY;IACxC,IAAI7H,KAAK,EAAE;MACT8H,YAAY,CAACC,IAAI,EAAE;KACpB,MAAM;MACLD,YAAY,CAACE,IAAI,EAAE;;IAGrB7M,gBAAgB,CAAC,CAACF,aAAa,GAAG4M,YAAY,EAAEA,YAAY,CAAC,CAAC;IAC9D,IAAI7H,KAAK,EAAE;MACTiC,WAAW,CAACD,QAAQ,GAAG,CAAC,CAAC;MACzBM,UAAU,CAACD,OAAO,GAAG,CAAC,GAAG,CAAC,GAAG1G,MAAM,CAACa,MAAM,GAAG,CAAC,GAAG6F,OAAO,GAAG,CAAC,CAAC;KAC9D,MAAM;MACLC,UAAU,CAACD,OAAO,GAAG,CAAC,IAAI1G,MAAM,CAACa,MAAM,GAAG,CAAC,GAAG6F,OAAO,GAAG,CAAC,CAAC;MAC1DJ,WAAW,CAACD,QAAQ,GAAG,CAAC,CAAC;;GAE5B;EAED,IAAMiG,aAAa,GAAG,SAAhBA,aAAaA;IACjB,IAAIrN,KAAK,CAACsN,UAAU,IAAI,KAAK,EAAE;MAC7B,OAAO,KAAK;KACb,MACI,IAAIvM,MAAM,CAACa,MAAM,IAAI,CAAC,EAAE;MAC3B,OAAO,KAAK;;IAEd,IAAI5B,KAAK,CAACe,MAAM,EAAE;MAChB,IAAIf,KAAK,CAACe,MAAM,CAACa,MAAM,IAAI,CAAC,EAAE;QAC5B,OAAO,KAAK;;;IAGhB,OAAO,IAAI;GACZ;EAED,IAAM2J,UAAU,GAAG,SAAbA,UAAUA,CAAIgC,QAAQ;IAC1B,IAAIvN,KAAK,CAACgG,UAAU,IAAIhG,KAAK,CAACe,MAAM,EAAE;MACpC,IAAI,CAAC8J,OAAO,CAAC0C,QAAQ,CAAC,IAAIxM,MAAM,CAACwM,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE;QAC5DpH,gBAAgB,CAAC,IAAI,CAAC;OACvB,MAAM,IACLnG,KAAK,CAACgG,UAAU,IAChBhG,KAAK,CAACe,MAAM,IACZA,MAAM,CAACwM,QAAQ,CAAC,CAAC,QAAQ,CAAC,EAC1B;QACApH,gBAAgB,CAAC,KAAK,CAAC;;;GAG5B;EAED,IAAMqH,eAAe,GAAG,SAAlBA,eAAeA;IACnB,IAAIxN,KAAK,CAACe,MAAM,EAAE;MAChB,OAAOf,KAAK,CAACe,MAAM,CAACY,UAAU,CAAC,CAACgJ,OAAO;;IAEzC,OAAO,EAAE;GACV;EAED,IAAM8C,aAAa,GAAG,SAAhBA,aAAaA;IACjB,IAAI5D,UAAU,IAAI,MAAM,EAAE;MACxB,OAAOI,MAAM,CAACyD,SAAS;KACxB,MAAM,IAAI7D,UAAU,IAAI,OAAO,EAAE;MAChC,OAAOI,MAAM,CAAC0D,UAAU;;GAE3B;EAED,IAAMC,YAAY,GAAG,SAAfA,YAAYA;IAChB,IAAI/D,UAAU,IAAI,MAAM,EAAE;MACxB,OAAOI,MAAM,CAAC4D,gBAAgB;KAC/B,MAAM,IAAIhE,UAAU,IAAI,OAAO,EAAE;MAChC,OAAOI,MAAM,CAAC6D,iBAAiB;;GAElC;EAED,IAAMpC,eAAe,GAAG,SAAlBA,eAAeA,CAAI6B,QAAQ;IAC/B,IAAIN,YAAY;IAChB,IAAIM,QAAQ,GAAGlN,aAAa,EAAE;MAC5B4M,YAAY,GAAG,CAAC;KACjB,MAAM;MACLA,YAAY,GAAG,CAAC,CAAC;;IAGnBvF,UAAU,CAAC6F,QAAQ,CAAC;IAEpBhN,gBAAgB,CAAC,CAACgN,QAAQ,EAAEN,YAAY,CAAC,CAAC;IAC1CC,YAAY,CAACa,KAAK,CAACR,QAAQ,EAAE,GAAG,CAAC;GAClC;EAED,IAAMS,iBAAiB,GAAG,SAApBA,iBAAiBA;IACrB,IAAIhO,KAAK,CAACiO,MAAM,EAAE;MAChBjO,KAAK,CAACiO,MAAM,EAAE;;GAEjB;EAED,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA;IACtB,IAAIlO,KAAK,CAACmO,OAAO,EAAE;MACjBnO,KAAK,CAACmO,OAAO,EAAE;;GAElB;EAED,IAAM7B,UAAU,GAAG,SAAbA,UAAUA;IAEd5E,UAAU,CAAC,CAAC,CAAC;IAEb,IAAIf,mBAAmB,EAAE;MACvBoG,cAAc,EAAE;;IAIlB,IAAInM,kBAAkB,EAAE;MACtBC,qBAAqB,CAAC,KAAK,CAAC;;IAG9BH,YAAY,CAAC,KAAK,CAAC;IACnBwC,SAAS,CAAC,KAAK,CAAC;GAEjB;EAED,IAAMkL,SAAS,GAAG,SAAZA,SAASA,CAAIC,GAAG;IACpB9N,gBAAgB,CAAC,CAAC8N,GAAG,EAAE,CAAC,CAAC,CAAC;IAC1B3N,YAAY,CAAC,IAAI,CAAC;IAClBwC,SAAS,CAAC,IAAI,CAAC;GAChB;EAED,IAAMoL,aAAa,GAAG,SAAhBA,aAAaA,CAAIhD,KAAK;IAC1B,IAAItL,KAAK,CAACe,MAAM,EAAE;MAChBA,MAAM,CAACuK,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,IAAI;MAC9BtK,SAAS,CAACD,MAAM,CAAC;;GAEpB;EAED,IAAMwN,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIjD,KAAK;IAChC,IAAIkD,IAAI,GAAgBzN,MAAM;IAC9ByN,IAAI,CAAClD,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,IAAI;IAC5BtK,SAAS,CAACwN,IAAI,CAAC;GAChB;EAED,IAAMC,SAAS,GAAG,SAAZA,SAASA;IACblD,UAAU,CAAC,CAAClL,aAAa,GAAG,CAAC,IAAIU,MAAM,CAACa,MAAM,CAAC;IAC/C4J,UAAU,EAAE;IACZC,UAAU,EAAE;IACZyB,YAAY,CAACE,IAAI,EAAE;IACnB/F,WAAW,CAACD,QAAQ,GAAG,CAAC,CAAC;IACzB7G,gBAAgB,CAAC,CAACF,aAAa,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;IACxCqH,UAAU,CAACD,OAAO,GAAG,CAAC,IAAI1G,MAAM,CAACa,MAAM,GAAG,CAAC,GAAG6F,OAAO,GAAG,CAAC,CAAC;GAC3D;EAED,IAAMiH,SAAS,GAAG,SAAZA,SAASA;IACbnD,UAAU,CAAC,CAAClL,aAAa,GAAG,CAAC,IAAIU,MAAM,CAACa,MAAM,CAAC;IAC/C4J,UAAU,EAAE;IACZC,UAAU,EAAE;IACZyB,YAAY,CAACC,IAAI,EAAE;IACnB9F,WAAW,CAACD,QAAQ,GAAG,CAAC,CAAC;IACzBM,UAAU,CAACD,OAAO,GAAG,CAAC,GAAG,CAAC,GAAG1G,MAAM,CAACa,MAAM,GAAG,CAAC,GAAG6F,OAAO,GAAG,CAAC,CAAC;IAC7DlH,gBAAgB,CAAC,CAACF,aAAa,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;GACzC;EAED,IAAMsO,UAAU,GAAG,SAAbA,UAAUA;IACd,IAAItI,qBAAqB,EAAE;MACzB,IAAImC,eAAe,CAACoG,OAAO,CAACjN,UAAU,CAAC,EAAE;QACvC6G,eAAe,CAACoG,OAAO,CAACjN,UAAU,CAAC,CAACkN,KAAK,EAAE;;;IAG/CvI,wBAAwB,CAAC,KAAK,CAAC;GAChC;EAED,IAAMwI,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIxD,KAAK;IAClC,IAAIyD,sBAAsB,GAAG9M,iBAAiB;IAC9C8M,sBAAsB,CAAChN,UAAU,GAAGuJ,KAAK;IACzCpJ,oBAAoB,CAAC6M,sBAAsB,CAAC;IAC5CrH,UAAU,CAAC4D,KAAK,CAAC;IACjB8C,SAAS,CAAC9C,KAAK,CAAC;GACjB;EAED,IAAM0D,SAAS,GAAG,SAAZA,SAASA;IACb,IAAIhP,KAAK,CAACe,MAAM,CAACa,MAAM,GAAG,CAAC,EAAE;MAC3B,IAAI5B,KAAK,CAACe,MAAM,CAACY,UAAU,CAAC,CAACsN,QAAQ,EAAE;QACrCC,gBAAM,CAAClP,KAAK,CAACe,MAAM,CAACY,UAAU,CAAC,CAACsN,QAAQ,EAAE,WAAW,CAAC;OACvD,MAAM;QACLC,gBAAM,CAAClP,KAAK,CAACe,MAAM,CAACY,UAAU,CAAC,CAAC,KAAK,CAAC,EAAE,WAAW,CAAC;;KAEvD,MAAM;MACL,IAAIZ,MAAM,CAACY,UAAU,CAAC,CAACwN,GAAG,EAAE;QAC1BD,gBAAM,CAACnO,MAAM,CAACY,UAAU,CAAC,CAACwN,GAAI,EAAE,YAAY,CAAC;;;GAIlD;EAED,IAAMC,aAAa,GAAG,SAAhBA,aAAaA;IACjBrI,kBAAkB,CAAC,KAAK,CAAC;IACzB,IAAI3B,KAAK,EAAE;MACT4H,oBAAoB,CAAC,CAAC,CAAC,CAAC;KACzB,MAAM;MACLA,oBAAoB,CAAC,CAAC,CAAC;;IAEzBnM,qBAAqB,CAAC,IAAI,CAAC;GAC5B;EAED,IAAMwO,aAAa,GAAG,SAAhBA,aAAaA;IACjBxO,qBAAqB,CAAC,KAAK,CAAC;GAC7B;EAED,IAAM2K,UAAU,GAAG,SAAbA,UAAUA;IACd,IAAInF,qBAAqB,EAAE;MACzBsI,UAAU,EAAE;;IAEd,IAAI3O,KAAK,CAACe,MAAM,EAAE;MAChB,IAAIf,KAAK,CAACe,MAAM,CAACY,UAAU,CAAC,CAAClD,IAAI,IAAI,IAAI,EAAE;QACzC,IAAID,IAAI,GAAGwB,KAAK,CAACe,MAAM,CAACY,UAAU,CAAC;QACnC6G,eAAe,CAACoG,OAAO,CACrBjN,UAAU,CACX,CAACwN,GAAG,sCAAoC3Q,IAAI,CAAC8Q,OAAO,UAAI/Q,cAAc,CAACC,IAAI,CAAC,GAAG,YAAY,GAAG,EAC/F,CAAE;;;GAGP;EAED,IAAMiN,UAAU,GAAG,SAAbA,UAAUA;IACd,IAAI3E,qBAAqB,EAAE;MACzByI,mBAAmB,EAAE;KACtB,MAAM;MACL,IAAIhH,cAAc,CAACqG,OAAO,CAACnH,OAAO,CAAC,IAAI,IAAI,EAAE;QAC3Cc,cAAc,CAACqG,OAAO,CAACnH,OAAO,CAAE,CAAC+H,cAAc,EAAE;;;GAGtD;EAED,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIC,GAAG,EAAEpE,KAAK;IACpC,IAAIT,OAAO,CAACS,KAAK,CAAC,IAAIoE,GAAG,CAACC,SAAS,EAAE;MACnC,OAAOD,GAAG,CAACC,SAAS;KACrB,MAAM;MACL,OAAOD,GAAG,CAACP,GAAG;;GAEjB;EAED,IAAMS,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAIF,GAAG,EAAEpE,KAAK;IACxC,IAAIT,OAAO,CAACS,KAAK,CAAC,EAAE;MAClB,OAAOoE,GAAG,CAACC,SAAS;KACrB,MAAM;MACL,IAAIE,OAAO,GAAGH,GAAG,CAACP,GAAG;MACrB,IACE,OAAOU,OAAO,KAAK,QAAQ,IAC3B,CAAC7D,KAAK,CAAC8D,OAAO,CAACD,OAAO,CAAC,IACvBA,OAAO,KAAK,IAAI,EAChB;QACA,OAAOA,OAAO,CAACV,GAAG;OACnB,MAAM;QACL,OAAOU,OAAO;;;GAGnB;EAED,IAAME,oBAAoB,GAAG,SAAvBA,oBAAoBA;IACxB,IAAI/P,KAAK,CAACgQ,SAAS,EAAE;MACnB,OAAUhQ,KAAK,CAACgQ,SAAS,SAAI/F,MAAM,CAACgG,UAAU;;IAEhD,OAAOhG,MAAM,CAACgG,UAAU;GACzB;EAED,IAAMC,WAAW,GAAG,SAAdA,WAAWA;IACf,IAAIlQ,KAAK,CAACgK,KAAK,EAAE;MACf,IAAI5K,MAAM,CAACY,KAAK,CAACgK,KAAK,CAAC,EAAE;QACvBrB,kBAAkB,CAACvJ,MAAM,CAACY,KAAK,CAACgK,KAAK,CAAC,CAAC1K,UAAU,CAAC;QAGlDwJ,YAAY,CAAC1J,MAAM,CAACY,KAAK,CAACgK,KAAK,CAAC,CAACvK,SAAS,CAAC;;;IAI/C,IAAIO,KAAK,CAAC2F,UAAU,EAAE;MACpB,IAAI3F,KAAK,CAAC2F,UAAU,IAAI,IAAI,EAAE;QAC5BgE,eAAe,CAAC,MAAM,CAAC;QACvB5G,YAAY,CAAC,KAAK,CAAC;;;GAGxB;EAED,IAAMoN,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAI7E,KAAK;IAC9B,IAAI8E,SAAS;IACb,IAAI,CAACpQ,KAAK,CAACe,MAAM,EAAE;MACjBqP,SAAS,GACPC;QACEL,SAAS,GAAKhQ,KAAK,CAAC2F,UAAU,GAC1BsE,MAAM,CAACqG,qBAAqB,GAC5BrG,MAAM,CAACsG,YACT,yBACEzJ,qBAAqB,GACnB,eAAe,GACf,2BACJ,iBAAa;QACf0J,KAAK,EAAEtF,aAAa,EAAE;QACtBb,GAAG,EAAE/C,QAAQ;QACbmJ,OAAO,EAAC,MAAM;QACdtB,GAAG,EACDpO,MAAM,CAACuK,KAAK,CAAC,CAAC2D,QAAQ,GAAGlO,MAAM,CAACuK,KAAK,CAAC,CAAC2D,QAAQ,GAAGlO,MAAM,CAACuK,KAAK,CAAC,CAAC6D,GAAG;QAErEuB,MAAM,EAAE,SAAAA;UACN,IAAIpF,KAAK,IAAI3J,UAAU,EAAE;YACvBwE,gBAAgB,CAAC,KAAK,CAAC;;UAGzB,IAAInG,KAAK,CAACe,MAAM,EAAE;YAChBuN,aAAa,CAAChD,KAAK,CAAC;WACrB,MAAM;YACLiD,mBAAmB,CAACjD,KAAK,CAAC;;SAE7B;QACDqF,EAAE,EAAC;QAEN;KACF,MAAM,IAAI3Q,KAAK,CAACe,MAAM,IAAIf,KAAK,CAAC4Q,MAAM,EAAE;MACvCR,SAAS,GAAGpQ,KAAK,CAAC4Q,MAAM,CAACC,QAAQ,CAAC7Q,KAAK,CAACe,MAAM,CAACuK,KAAK,CAAC,CAAC;KACvD,MAAM;MACL,IAAIwF,QAAQ;MAGZ,IAAI9Q,KAAK,CAACe,MAAM,EAAE;QAChB,IACE,OAAOA,MAAM,CAACuK,KAAK,CAAC,CAAC6D,GAAG,KAAK,QAAQ,IACrC,CAACnD,KAAK,CAAC8D,OAAO,CAAC/O,MAAM,CAACuK,KAAK,CAAC,CAAC6D,GAAG,CAAC,IACjCpO,MAAM,CAACuK,KAAK,CAAC,CAAC6D,GAAG,KAAK,IAAI,EAC1B;UAAA,IAAA4B,iBAAA;UACAD,QAAQ,IAAAC,iBAAA,GAAGhQ,MAAM,CAACuK,KAAK,CAAC,CAAC6D,GAAG,cAAA4B,iBAAA,uBAAjBA,iBAAA,CAAmB5B,GAAG;SAClC,MAAM,IAAInP,KAAK,CAACgR,oBAAoB,IAAI,IAAI,EAAE;UAC7CF,QAAQ,GAAG/P,MAAM,CAACuK,KAAK,CAAC,CAAC6D,GAAG;SAC7B,MAAM;UACL2B,QAAQ,GAAG/P,MAAM,CAACuK,KAAK,CAAC,CAAC6D,GAAG;;;MAIhCiB,SAAS,GACPC;QACEL,SAAS,GAAKhQ,KAAK,CAAC2F,UAAU,GAC1BsE,MAAM,CAACqG,qBAAqB,GAC5BrG,MAAM,CAACsG,YACT,yBACEzJ,qBAAqB,GACnB,eAAe,GACf,2BACJ,iBAAa;QACfuD,GAAG,EAAE/C,QAAQ;QACbmJ,OAAO,EAAC,MAAM;QACdD,KAAK,EAAEtF,aAAa,EAAE;QACtBiE,GAAG,EACDpO,MAAM,CAACuK,KAAK,CAAC,CAAC2D,QAAQ,GAClBlO,MAAM,CAACuK,KAAK,CAAC,CAAC2D,QAAQ,GACtB6B,QAAQ;QAEdJ,MAAM,EAAE,SAAAA;UACN,IAAIpF,KAAK,IAAI3J,UAAU,EAAE;YACvBwE,gBAAgB,CAAC,KAAK,CAAC;;UAGzB,IAAInG,KAAK,CAACe,MAAM,EAAE;YAChBuN,aAAa,CAAChD,KAAK,CAAC;WACrB,MAAM;YACLiD,mBAAmB,CAACjD,KAAK,CAAC;;SAE7B;QACDqF,EAAE,EAAC;QAEN;;IAGH,OAAOP,SAAS;GACjB;EAED,IAAMa,eAAe,GAAG,SAAlBA,eAAeA,CAAI3F,KAAK;IAC5B,IAAIT,OAAO,CAACS,KAAK,CAAC,EAAG;MACnB,OAAO4F,iBAAiB,CAAC5F,KAAK,CAAC;KAChC,MACI,IAAI6F,gBAAgB,CAAC7F,KAAK,CAAC,EAAE;MAChC,IAAI8F,aAAa,GAAGpR,KAAK,CAACe,MAAM,CAACuK,KAAK,CAAC,CAAC,SAAS,CAAC;MAClD,OAAO+E;QAAUL,SAAS,2BACxBhQ,KAAK,CAAC2F,UAAU,GACdsE,MAAM,CAACqG,qBAAqB,GAC5BrG,MAAM,CAACsG,YACT,mBACAzJ,qBAAqB,GACjBmD,MAAM,CAACoH,YAAY,GACnBpH,MAAM,CAACqH,wBACX;SACKC,MAAM,CAACC,IAAI,CAACJ,aAAa,CAAC,CAACK,GAAG,CAAC,UAACC,MAAM;QAAA,OACnCrB;UACI5R,IAAI,EAAEiT,MAAM;UACZC,GAAG,EAAED,MAAM;UACXE,MAAM,EAAER,aAAa,CAACM,MAAM,CAAC,CAACE;UAChC;OACL,CAAC,EACFvB;QAAKlB,GAAG,EAAEiC,aAAa,CAAC,UAAU;QAAK,CACjC;KACb,MACI;MAEH,IAAKrQ,MAAM,IAAIf,KAAK,CAAC4Q,MAAM,IAC3BrL,WAAW,IAAI,MAAM,EAAE;QACrB,OAAO4K,iBAAiB,CAAC7E,KAAK,CAAC;OAChC,MACI;QACD,OAAO+E;UACPL,SAAS,+BACPhQ,KAAK,CAAC2F,UAAU,GACdsE,MAAM,CAACqG,qBAAqB,GAC5BrG,MAAM,CAACsG,YACT,uBACAzJ,qBAAqB,GACjBmD,MAAM,CAACoH,YAAY,GACnBpH,MAAM,CAACqH,wBACX,OAAG;UACLjH,GAAG,EAAE/C,QAAQ;UACbmJ,OAAO,EAAC,MAAM;UACdD,KAAK,EAAEtF,aAAa,EAAE;UACtBiE,GAAG,EACDpO,MAAM,IAAIA,MAAM,CAACuK,KAAK,CAAC,CAAC2D,QAAQ,GAC5BlO,MAAM,CAACuK,KAAK,CAAC,CAAC2D,QAAQ,GACtBlO,MAAM,CAACuK,KAAK,CAAC,CAAC6D,GAAG;UAEvBuB,MAAM,EAAE,SAAAA;YACN,IAAIpF,KAAK,IAAI3J,UAAU,EAAE;cACvBwE,gBAAgB,CAAC,KAAK,CAAC;;YAGzB,IAAInG,KAAK,CAACe,MAAM,EAAE;cAChBuN,aAAa,CAAChD,KAAK,CAAC;aACrB,MAAM;cACLiD,mBAAmB,CAACjD,KAAK,CAAC;;WAE7B;UACDqF,EAAE,EAAC;UACH;;;GAKP;EAED,IAAM9F,OAAO,GAAG,SAAVA,OAAOA,CAAIS,KAAK;IACpB,IAAItL,KAAK,CAACe,MAAM,EAAE;MAChB,IAAIvC,IAAI,GAAGwB,KAAK,CAACe,MAAM,CAACuK,KAAK,CAAC;MAC9B,IAAI9M,IAAI,EAAE;QACR,IAAIA,IAAI,CAACC,IAAI,IAAI,IAAI,IAAID,IAAI,CAACC,IAAI,IAAI,WAAW,EAAE;UACjD,OAAO,IAAI;;;;IAKjB,OAAO,KAAK;GACb;EAED,IAAM0S,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAI7F,KAAK;IAC7B,IAAItL,KAAK,CAACe,MAAM,EAAE;MAChB,IAAIvC,IAAI,GAAGwB,KAAK,CAACe,MAAM,CAACuK,KAAK,CAAC;MAC9B,IAAI9M,IAAI,EAAE;QACR,IAAIA,IAAI,CAACqT,OAAO,EAAE;UAChB,OAAO,IAAI;;;;IAKjB,OAAO,KAAK;GACb;EAED,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIxG,KAAK;IACxB,IAAItL,KAAK,CAACe,MAAM,EAAE;MAChB,IAAIf,KAAK,CAACe,MAAM,IAAIf,KAAK,CAACe,MAAM,CAACuK,KAAK,CAAC,CAAC7M,IAAI,IAAI,WAAW,EAAE;QAC3D,OAAO,IAAI;;;IAIf,OAAO,KAAK;GACb;EAED,IAAMyS,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAI5F,KAAK;IAC9B,IAAI9M,IAAI,GAAGwB,KAAK,CAACe,MAAM,CAACuK,KAAK,CAAC;IAC9B,IAAIyG,SAAS;IAEb,IAAIvT,IAAI,CAACC,IAAI,IAAI,IAAI,EAAE;MACrBsT,SAAS,GACP1B;QAAKL,SAAS,EAAK/F,MAAM,CAAC+H,mBAAmB;SAC3C3B;QACEL,SAAS,OAAK/F,MAAM,CAACgI,OAAS;QAC9BzL,KAAK,EAAE3H,aAAa,CAACL,IAAI,CAAC;QAC1B0T,MAAM,EAAEvT,cAAc,CAACH,IAAI,CAAC;QAC5B6L,GAAG,EAAE,SAAAA,IAAC8H,EAAE;UAAA,OAAM3J,eAAe,CAACoG,OAAO,CAACtD,KAAK,CAAC,GAAG6G,EAAE;SAAC;QAClDhD,GAAG,qCAAmC3Q,IAAI,CAAC8Q,OAAO,UAAI/Q,cAAc,CAACC,IAAI,CAAC,GAAG,YAAY,GAAG,EAC1F,CAAE;QACJ4T,KAAK,EAAC,sBAAsB;QAC5BC,WAAW,EAAC,GAAG;QACfC,KAAK,EAAC,qGAAqG;QAC3GC,eAAe;QACf7B,MAAM,EAAE,SAAAA;UACN,IAAIpF,KAAK,IAAI3J,UAAU,EAAE;YACvBwE,gBAAgB,CAAC,KAAK,CAAC;;UAEzBmI,aAAa,CAAChD,KAAK,CAAC;;QAEd,CAEb;KACF,MAAM,IAAI9M,IAAI,CAACC,IAAI,IAAI,WAAW,EAAE;MACnCsT,SAAS,GACP1B;QACEL,SAAS,EAAK/F,MAAM,CAACuI,SAAS,SAAIvI,MAAM,CAACwI,uBAAuB;SAEhEpC;QACEL,SAAS,EAAK/F,MAAM,CAACyI,aAAa,SAAIzI,MAAM,CAAC0I,aAAe;QAC5DnM,KAAK,EAAE3H,aAAa,CAACL,IAAI,CAAC;QAC1B6L,GAAG,EAAE,SAAAA,IAAC8H,EAAE;UAAA,OAAM3J,eAAe,CAACoG,OAAO,CAACtD,KAAK,CAAC,GAAG6G,EAAE;SAAC;QAClDS,MAAM,EAAE,SAAAA;UACNtM,wBAAwB,CAAC,IAAI,CAAC;SAC/B;QACD4L,MAAM,EAAEvT,cAAc,CAACH,IAAI,CAAC;QAC5BE,QAAQ,EAAE4M,KAAK,IAAIjL,aAAa,GAAG9B,cAAc,CAACC,IAAI,CAAC,GAAG,KAAK;QAC/DqU,QAAQ;SAERxC;QACElB,GAAG,EAAE3Q,IAAI,CAACsU,QAAQ;QAClBrU,IAAI,EAAC,WAAW;QAChBiS,MAAM,EAAE,SAAAA;UACNpC,aAAa,CAAChD,KAAK,CAAC;;QAEtB,CACI,CAEX;;IAGH,OAAOyG,SAAS;GACjB;EAED,IAAMgB,mBAAmB,GAAG/G,KAAK,CAACgH,KAAK,CAAC,IAAI,EAAEhH,KAAK,CAACjL,MAAM,CAACa,MAAM,CAAC,CAAC,CAAC6P,GAAG,CACrE,UAACwB,CAAC,EAAE3H,KAAK;IACP,OACE+E;MAAKsB,GAAG,EAAErG;OACPxE,qBAAqB,IAAI,IAAI,GAC5BuJ,oBAAC6C,SAAS;MACR/D,GAAG,EAAEpO,MAAM,CAACuK,KAAK,CAAC,CAAC6D,GAAI;MACvBa,SAAS,EAAK/F,MAAM,CAACkJ,cAAc,SAAIlJ,MAAM,CAACsG,YAAc;MAC5D2B,MAAM,EAAEtK,gBAAgB;MACxBpB,KAAK,EAAEuB,eAAe;MACtBqL,cAAc,EAAE;MAEhB,GAEF/C;MAAKL,SAAS,OAAK/F,MAAM,CAACoJ;OACxBhD,oBAACiD,kCAAgB;MACfjJ,GAAG,EAAE,SAAAA,IAAC8H,EAAE;QAAA,OAAM5J,cAAc,CAACqG,OAAO,CAACtD,KAAK,CAAC,GAAG6G,EAAE;OAAC;MACjDoB,OAAO,EAAEnJ,UAAU;MACnBoJ,QAAQ,EAAElS,WAAW;MACrBqQ,GAAG,EAAErG,KAAK;MACVmI,MAAM,EAAElJ,SAAS;MACjBmJ,eAAe,EAAE,IAAI;MACrBC,YAAY,EAAE;OAEdtD,oBAACuD,oCAAkB;MACjBC,YAAY,EAAE;QACZrN,KAAK,EAAE,OAAO;QACd0L,MAAM,EAAE,OAAO;QACf4B,MAAM,EAAE;OACT;MACDC,YAAY,EACV/T,KAAK,CAAC2F,UAAU,GACZ;QACAa,KAAK,EAAE,OAAO;QACd0L,MAAM,EAAE,OAAO;QACf8B,UAAU,EAAE,MAAM;QAClBC,WAAW,EAAE;OACd,GACC;QACAzN,KAAK,EAAE,OAAO;QACd0L,MAAM,EAAE,OAAO;QACf4B,MAAM,EAAE,MAAM;QACdI,OAAO,EAAE;OACV;MAELvC,GAAG,EAAErG;OAEL+E;MACEL,SAAS,GAAKhQ,KAAK,CAAC2F,UAAU,GAC1BsE,MAAM,CAACkK,wBAAwB,GAC/BlK,MAAM,CAACmK,aACT,WAAIpU,KAAK,CAACqU,gBAAgB,GAAGrU,KAAK,CAACqU,gBAAgB,GAAG,EAAE;OAEzDpD,eAAe,CAAC3F,KAAK,CAAC,CAEnB,CACa,CACJ,CAEtB,CACG;GAET,CACF;EAED,IAAMiE,mBAAmB,GAAG,SAAtBA,mBAAmBA;IACvB,IAAI,CAACzI,qBAAqB,EAAE;MAC1BwN,mBAAmB,EAAE;KACtB,MAAM;MACL3K,eAAe,CAAC,SAAS,CAAC;;IAE5B5C,kBAAkB,CAAC,CAACD,qBAAqB,CAAC;GAC3C;EAED,IAAMwN,mBAAmB,GAAG,SAAtBA,mBAAmBA;IACvB,IAAI5E,GAAG;IACP,IAAIrP,aAAa,IAAI,CAAC,IAAIA,aAAa,GAAGU,MAAM,CAACa,MAAM,IAAI,CAAC,EAAE;MAC5D8N,GAAG,GAAG7D,QAAQ,CAACY,cAAc,CAAC,KAAK,CAAC;KACrC,MAAM;MACLiD,GAAG,GAAGpI,QAAQ,CAACsH,OAAO;;IAGxB,IAAI2F,KAAK,GAAG7E,GAAG,CAAC8E,YAAY,GAAG9E,GAAG,CAAC+E,aAAa;IAChD,IAAIjO,KAAK,GAAGkJ,GAAG,CAACwC,MAAM,GAAGqC,KAAK;IAC9B,IAAIrC,MAAM,GAAGxC,GAAG,CAACwC,MAAM;IACvB,IAAI1L,KAAK,GAAGkJ,GAAG,CAAClJ,KAAK,EAAE;MACrBA,KAAK,GAAGkJ,GAAG,CAAClJ,KAAK;MACjB0L,MAAM,GAAGxC,GAAG,CAAClJ,KAAK,GAAG+N,KAAK;;IAG5B1M,mBAAmB,CAACqK,MAAM,CAAC;IAC3BlK,kBAAkB,CAACxB,KAAK,CAAC;GAC1B;EAGD,IAAMmG,kCAAkC,GAAG,SAArCA,kCAAkCA;IACtCd,QAAQ,CAAC6I,gBAAgB,CAAC,kBAAkB,EAAE9H,qBAAqB,CAAC;IACpEf,QAAQ,CAAC6I,gBAAgB,CAAC,wBAAwB,EAAE9H,qBAAqB,CAAC;IAC1Ef,QAAQ,CAAC6I,gBAAgB,CAAC,oBAAoB,EAAE9H,qBAAqB,CAAC;IACtEf,QAAQ,CAAC6I,gBAAgB,CAAC,qBAAqB,EAAE9H,qBAAqB,CAAC;GACxE;EAED,IAAME,oCAAoC,GAAG,SAAvCA,oCAAoCA;IACxCjB,QAAQ,CAAC8I,mBAAmB,CAAC,kBAAkB,EAAE/H,qBAAqB,CAAC;IACvEf,QAAQ,CAAC8I,mBAAmB,CAC1B,wBAAwB,EACxB/H,qBAAqB,CACtB;IACDf,QAAQ,CAAC8I,mBAAmB,CAAC,oBAAoB,EAAE/H,qBAAqB,CAAC;IACzEf,QAAQ,CAAC8I,mBAAmB,CAAC,qBAAqB,EAAE/H,qBAAqB,CAAC;GAC3E;EAED,IAAMgI,kBAAkB,GAAG,SAArBA,kBAAkBA;IACtB,IAAIC,SAAS,EAAE,EAAE;MACf9J,MAAM,CAAC2J,gBAAgB,CAAC,QAAQ,EAAE5J,kBAAkB,CAAC;;GAExD;EAED,IAAMgK,oBAAoB,GAAG,SAAvBA,oBAAoBA;IACxB,IAAID,SAAS,EAAE,EAAE;MACf9J,MAAM,CAAC4J,mBAAmB,CAAC,QAAQ,EAAE7J,kBAAkB,CAAC;;GAE3D;EAED,IAAMiK,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,UAAU;IAClC,IAAIA,UAAU,CAACC,OAAO,EAAE;MACtBtL,eAAe,CAAC,MAAM,CAAC;;GAE1B;EAKD,IAAMuL,yBAAyB,GAAG,SAA5BA,yBAAyBA;IAC7B,IAAIC,uBAAuB,GAAQ,EAAE;IAErC,IAAIN,SAAS,EAAE,EAAE;MACfM,uBAAuB,GAAGpK,MAAM,CAACqK,UAAU,CACzC,kCAAkC,CACnC;MAED,IAAI,CAACD,uBAAuB,IAAIA,uBAAuB,CAACF,OAAO,EAAE;QAC/DtL,eAAe,CAAC,MAAM,CAAC;;MAGzBwL,uBAAuB,CAACT,gBAAgB,CACtC,QAAQ,EACRK,gBAAgB,CAACI,uBAAuB,CAAC,CAC1C;;IAGH,OAAOA,uBAAuB;GAC/B;EAED,IAAME,wBAAwB,GAAG,SAA3BA,wBAAwBA;IAC5B,IAAIrV,KAAK,CAACuD,kBAAkB,IAAI+R,SAAS,EAAE;MACzC7R,wBAAwB,CAACzD,KAAK,CAACuD,kBAAkB,CAAC;;IAEpD,IAAIvD,KAAK,CAAC2D,iBAAiB,IAAI2R,SAAS,EAAE;MACxCzR,uBAAuB,CAAC7D,KAAK,CAAC2D,iBAAiB,CAAC;;IAGlD,IAAI3D,KAAK,CAAC+D,iBAAiB,IAAIuR,SAAS,EAAE;MACxCrR,uBAAuB,CAACjE,KAAK,CAAC+D,iBAAiB,CAAC;;IAGlD,IAAI/D,KAAK,CAACmE,sBAAsB,IAAImR,SAAS,EAAE;MAC7CjR,4BAA4B,CAACrE,KAAK,CAACmE,sBAAsB,CAAC;;GAE7D;EAED,IAAMoR,SAAS,GAAG,SAAZA,SAASA;IACb,IAAIvV,KAAK,CAACoD,YAAY,IAAIkS,SAAS,EAAE;MACnCjS,eAAe,CAACrD,KAAK,CAACoD,YAAY,CAAC;;IAGrCiS,wBAAwB,EAAE;IAE1B,IAAIrV,KAAK,CAACqB,gBAAgB,EAAE;MAC1BE,cAAc,CAACvB,KAAK,CAACqB,gBAAgB,CAAC;;IAGxC,IAAIwT,SAAS,EAAE,EAAE;MACfpO,QAAQ,CAACsE,MAAM,CAACC,UAAU,CAAC;;IAG7B,IAAID,MAAM,CAACC,UAAU,IAAIlL,WAAW,EAAE;MACpC6J,eAAe,CAAC,MAAM,CAAC;;GAE1B;EAID6L,sBAAW,CACT;IACE,IAAIpQ,KAAK,EAAE;MACT4H,oBAAoB,CAAC,CAAC,CAAC,CAAC;KACzB,MAAM;MACLA,oBAAoB,CAAC,CAAC,CAAC;;GAE1B,EAGDpM,kBAAkB,GAAGwB,iBAAiB,GAAG,IAAI,CAC9C;EAED,IAAMsK,cAAc,GAAG,SAAjBA,cAAcA,CAAI+I,aAAa;IACnC,IAAIA,aAAa,CAACC,iBAAiB,EAAE;MACnCD,aAAa,CAACC,iBAAiB,EAAE;KAClC,MAGI,IAAID,aAAa,CAACE,uBAAuB,EAAE;MAC9CF,aAAa,CAACE,uBAAuB,EAAE;KACxC,MAGI,IAAIF,aAAa,CAACG,mBAAmB,EAAE;MAC1CH,aAAa,CAACG,mBAAmB,EAAE;;GAEtC;EAED,IAAM/I,eAAe,GAAG,SAAlBA,eAAeA,CAAIhB,QAAQ;IAC/B,IAAIA,QAAQ,CAACgK,cAAc,EAAE;MAC3BhK,QAAQ,CAACgK,cAAc,EAAE;KAC1B,MAGI,IAAIhK,QAAQ,CAACiK,oBAAoB,EAAE;MACtCjK,QAAQ,CAACiK,oBAAoB,EAAE;KAChC,MAGI,IAAIjK,QAAQ,CAACkK,gBAAgB,EAAE;MAClClK,QAAQ,CAACkK,gBAAgB,EAAE;;GAE9B;EAED,IAAMlB,SAAS,GAAG,SAAZA,SAASA;IAAA,OAAS,OAAO9J,MAAM,KAAK,WAAW;;EAErD,IAAMiL,aAAa,GAAG,SAAhBA,aAAaA;IAEjB,IAAIC,kBAAkB,GAAGjW,KAAK,CAACe,MAAM;IACrCkV,kBAAkB,CAACC,OAAO,EAAE;IAE5BlV,SAAS,CAACiV,kBAAkB,CAAC;IAE7B,IAAIlV,MAAM,CAACa,MAAM,GAAG,CAAC,EAAE;MACrB,IAAIuU,aAAa,GAAGpV,MAAM;MAC1BoV,aAAa,CAACD,OAAO,EAAE;MACvBlV,SAAS,CAACmV,aAAa,CAAC;;GAG3B;EAGD,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAIC,SAAS,EAAEC,YAAY;IAEzC,IAAIrN,SAAS,IAAIjJ,KAAK,CAACe,MAAM,EAAE;MAC7B,IAAIf,KAAK,CAACgR,oBAAoB,IAAI,KAAK,EAAE;QACvC,IAAIuF,YAAY,GAAGvW,KAAK,CAACe,MAAM,CAACyV,MAAM,CAAC,UAAC9G,GAAG;UAAA,OAAKA,GAAG,CAAC+G,KAAK,IAAI,IAAI;UAAC;QAClEzV,SAAS,CAACuV,YAAY,CAAC;OACxB,MAAM;QACLvV,SAAS,CAAChB,KAAK,CAACe,MAAM,CAAC;;;IAI3B,IAAIuV,YAAY,IAAI,CAACpO,MAAM,EAAE;MAC3B,IAAIzC,kBAAkB,IAAIzF,KAAK,CAAC0W,QAAQ,EAAE;QACxC,IAAIC,WAAW,GAAiC9K,QAAQ,CAAC+K,gBAAgB,uBACnDnR,kBAAkB,OACvC;QAED,IAAIoR,YAAY,GAAmB,EAAE;QACrC,IAAIF,WAAW,CAAC/U,MAAM,GAAG,CAAC,EAAE;UAAA,IAAAkV,KAAA,YAAAA,MAAA5K,CAAA,EACwB;YAChD,IAAIwD,GAAG,GAAGiH,WAAW,CAACzK,CAAC,CAAC;YAExB,IAAI6K,QAAQ,GAAGrH,GAAG,CAACsH,YAAY,CAAC,iBAAiB,CAAC;YAClD,IAAID,QAAQ,IAAItR,kBAAkB,EAAE;cAClCiK,GAAG,CAACgF,gBAAgB,CAClB,OAAO,EACP;gBACE,IAAIpJ,KAAK;gBAET,IAAIlG,KAAK,EAAE;kBACTkG,KAAK,GAAGiB,WAAW,CAACoK,WAAW,CAAC/U,MAAM,EAAEsK,CAAC,CAAC;iBAC3C,MAAM;kBACLZ,KAAK,GAAGY,CAAC;;gBAGX,IAAI6C,sBAAsB,GAAG9M,iBAAiB;gBAC9C8M,sBAAsB,CAAChN,UAAU,GAAGuJ,KAAK;gBAEzC,IAAI+K,SAAS,EAAEnU,oBAAoB,CAAC6M,sBAAsB,CAAC;gBAC3DrH,UAAU,CAAC4D,KAAK,CAAC;gBACjB8C,SAAS,CAAC9C,KAAK,CAAC;eACjB,EACD,KAAK,CACN;cACDoE,GAAG,CAACuH,SAAS,CAACC,GAAG,CAAC,gBAAgB,CAAC;cAEnC,IAAIxH,GAAG,CAACP,GAAG,EAAE;gBACX0H,YAAY,CAACM,IAAI,CAAC;kBAChBhI,GAAG,EAAEO,GAAG,CAACP,GAAG;kBACZiI,GAAG,EAAE1H,GAAG,CAAC0H,GAAG;kBACZC,MAAM,EAAE;iBACT,CAAC;eACH,MAAM,IAAI3H,GAAG,CAAC4H,OAAO,IAAI,KAAK,EAAE;gBAC/B,IAAIC,sBAAsB,GAAGvX,KAAK,CAACe,MAAM,CAACmL,CAAC,CAAC;gBAC5C,IAAI2D,OAAO,GAAG0H,sBAAsB,CAACpI,GAAG;gBACxC,IAAIqI,OAAO,GAAGD,sBAAsB,CAACH,GAAG;gBACxCP,YAAY,CAACM,IAAI,CAAC;kBAChBhI,GAAG,EAAEU,OAAO;kBACZuH,GAAG,EAAEI,OAAO;kBACZH,MAAM,EAAE;iBACT,CAAC;;;WAGP;UA5CD,KAAK,IAAInL,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIyK,WAAW,CAAC/U,MAAM,GAAG,CAAC,EAAEsK,CAAC,EAAE;YAAA4K,KAAA,CAAA5K,CAAA;;UA6ChD,IAAImK,SAAS,IAAI,CAACpN,SAAS,EAAE;YAC3B,IAAKjJ,KAAK,CAACyX,aAAa,IAAI,IAAI,IAAIzX,KAAK,CAACsF,SAAS,IAAI,MAAM,EAAE;cAC7DtE,SAAS,CAAC6V,YAAY,CAAC;aACxB,MACI,IAAI7W,KAAK,CAACsF,SAAS,IAAI,MAAM,EAAE;cAClCtE,SAAS,CAAChB,KAAK,CAACe,MAAM,CAAC;aACxB,MACI;cACHC,SAAS,CAAChB,KAAK,CAACe,MAAM,CAAC;;;SAG5B,MACI;UACH,IAAIf,KAAK,CAACe,MAAM,EAAE;YAChBC,SAAS,CAAChB,KAAK,CAACe,MAAM,CAAC;;;OAI5B,MACI,IAAI0E,kBAAkB,IAAIzF,KAAK,CAACe,MAAM,IAAI,CAACf,KAAK,CAAC0W,QAAQ,EAAE;QAC9D1V,SAAS,CAAChB,KAAK,CAACe,MAAM,CAAC;OAExB,MACI,IAAI,CAAC0E,kBAAkB,IAAIzF,KAAK,CAACe,MAAM,IAAI,CAACf,KAAK,CAAC0W,QAAQ,EAAE;QAC/D1V,SAAS,CAAChB,KAAK,CAACe,MAAM,CAAC;OAExB,MAGI,IAAI,CAACf,KAAK,CAAC4Q,MAAM,EAAE;QACtB,IAAI8G,QAAQ,GAAQ,EAAE;QAEtB,IAAI,CAAC1L,KAAK,CAAC8D,OAAO,CAAC9P,KAAK,CAAC0W,QAAQ,CAAC,EAAE;UAClCgB,QAAQ,CAACP,IAAI,CAACnX,KAAK,CAAC0W,QAAQ,CAAC;SAC9B,MAGI;UACHgB,QAAQ,GAAG1X,KAAK,CAAC0W,QAAQ;;QAG3B,IAAIlI,IAAI,GAAmB,EAAE;QAC7B,KAAK,IAAImJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,QAAQ,CAAC9V,MAAM,EAAE+V,CAAC,EAAE,EAAE;UACxC,IAAIC,QAAQ,GAAGF,QAAQ,CAACC,CAAC,CAAC;UAC1B,IAAIE,OAAO,GAAG;YACZ1I,GAAG,EAAEyI,QAAQ,CAAC5X,KAAK,CAACmP,GAAG;YACvBiI,GAAG,EAAEQ,QAAQ,CAAC5X,KAAK,CAACoX,GAAG;YACvBC,MAAM,EAAE;WACT;UACD7I,IAAI,CAAC2I,IAAI,CAACU,OAAO,CAAC;;QAEpB,IAAIzS,KAAK,EAAE;UACToJ,IAAI,CAAC0H,OAAO,EAAE;;QAEhB,IAAIG,SAAS,EAAErV,SAAS,CAACwN,IAAI,CAAC;QAE9B9M,oBAAoB,CAACgW,QAAQ,CAAC;OAE/B,MAAM;QACL,IAAIrB,SAAS,EAAE;UAAErV,SAAS,CAAChB,KAAK,CAACe,MAAM,CAAC;;;MAI1C,IAAIsV,SAAS,EAAElO,SAAS,CAAC,IAAI,CAAC;;GAIjC;EAED2P,eAAS,CAAC;IACR1B,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC;GACvB,EAAE,CAACpW,KAAK,CAACe,MAAM,EAAEf,KAAK,CAAC+X,eAAe,CAAC,CAAC;EAGzCD,eAAS,CAAC;IACR,IAAIE,QAAQ,GAAG,CAAC;IAChB,IAAIhY,KAAK,CAACiY,IAAI,EAAE;MACd,IAAIjY,KAAK,CAACkY,kBAAkB,EAAE;QAC5B,IAAIlY,KAAK,CAACkY,kBAAkB,GAAGnX,MAAM,CAACa,MAAM,IAAK5B,KAAK,CAACkY,kBAAkB,IAAI,CAAE,EAAE;UAC/EF,QAAQ,GAAGhY,KAAK,CAACkY,kBAAkB;SACpC,MACI;UACHF,QAAQ,GAAG,CAAC;;;MAIhBlJ,qBAAqB,CAACkJ,QAAQ,CAAC;KAEhC,MACI,IAAIhY,KAAK,CAACiY,IAAI,IAAI,KAAK,EAAE;MAC5B3L,UAAU,EAAE;;GAEf,EAAE,CAACtM,KAAK,CAACiY,IAAI,CAAC,CAAC;EAEhBH,eAAS,CAAC;IACR,IAAI7U,MAAM,IAAI,IAAI,EAAE;MAClB+K,iBAAiB,EAAE;KACpB,MACI;MACHE,kBAAkB,EAAE;;GAGvB,EAAE,CAACjL,MAAM,CAAC,CAAC;EAEZ6U,eAAS,CAAC;IAGR,IAAI9X,KAAK,CAAC4Q,MAAM,EAAE;MAChB,IAAI,CAAC5Q,KAAK,CAACe,MAAM,EAAE;QACjBoX,OAAO,CAACC,KAAK,CACX,gHAAgH,CACjH;;;IAIL,IAAI/B,SAAS,GAAG,IAAI;IACpB,IAAIA,SAAS,EAAEd,SAAS,EAAE;IAE1B,IAAItM,SAAS,IAAIjJ,KAAK,CAACe,MAAM,EAAE;MAC7B,IAAIf,KAAK,CAACgR,oBAAoB,IAAI,KAAK,EAAE;QACvC,IAAIuF,YAAY,GAAGvW,KAAK,CAACe,MAAM,CAACyV,MAAM,CAAC,UAAC9G,GAAG;UAAA,OAAKA,GAAG,CAAC+G,KAAK,IAAI,IAAI;UAAC;QAClEzV,SAAS,CAACuV,YAAY,CAAC;OACxB,MAAM;QACLvV,SAAS,CAAChB,KAAK,CAACe,MAAM,CAAC;;;IAI3B,IAAIsV,SAAS,EAAE;MACbzB,kBAAkB,EAAE;;IAGtB,IAAIO,uBAAuB,GAAGD,yBAAyB,EAAE;IAEzD,IAAI,CAAChN,MAAM,EAAE;MACXkO,UAAU,CAACC,SAAS,EAAE,KAAK,CAAC;MAE5B,IAAIrW,KAAK,CAACe,MAAM,IAAIqE,KAAK,IAAI,IAAI,EAAE;QACjC4Q,aAAa,EAAE;;;IAInB,IAAIK,SAAS,EAAEnG,WAAW,EAAE;IAE5B,OAAO;MACLmG,SAAS,GAAG,KAAK;MACjBvB,oBAAoB,EAAE;MACtBK,uBAAuB,CAACR,mBAAmB,CACzC,QAAQ,EACRQ,uBAAuB,CACxB;KACF;GACF,EAAE,EAAE,CAAC;EAGN,IAAIjI,YAAY;EAEhB,OAAOmD,iCACLA;IAAKL,SAAS,OAAKD,oBAAoB;KACpC/P,KAAK,CAACe,MAAM,IAAIf,KAAK,CAAC0W,QAAQ,IAAIjR,kBAAkB,IAAI,KAAK,GAC1DzF,KAAK,CAAC0W,QAAQ,GACd,IAAI,EAEP1W,KAAK,CAACe,MAAM,IAAI0E,kBAAkB,IAAI,KAAK,GACxCzF,KAAK,CAACe,MAAM,CAAC0Q,GAAG,CAAC,UAACjT,IAAI,EAAE8M,KAAK;IAAA,OAC7B+E;MACEL,SAAS,OAAK/F,MAAM,CAACyI,aAAe;MACpCvD,GAAG,EAAE3Q,IAAI,CAAC2Q,GAAG;MAEbkJ,OAAO,EAAE,SAAAA;QACP,IAAIC,SAAS;QAEb,IAAIlT,KAAK,EAAE;UACTkT,SAAS,GAAG/L,WAAW,CAACvM,KAAK,CAACe,MAAM,CAACa,MAAM,EAAE0J,KAAK,CAAC;SACpD,MAAM;UACLgN,SAAS,GAAGhN,KAAK;;QAGnBwD,qBAAqB,CAACwJ,SAAS,CAAC;OACjC;MACD3G,GAAG,EAAErG;MACL;GACH,CAAC,GACA,IAAI,EAGP7F,kBAAkB,IAAI,KAAK,IAAIzF,KAAK,CAAC0W,QAAQ,IAAIzN,SAAS,IAAI,KAAK,GAChEjJ,KAAK,CAAC0W,QAAQ,GACd,IAAI,EAMNjR,kBAAkB,IAAI,KAAK,IAAIzF,KAAK,CAACe,MAAM,IAAKkI,SAAS,IAAI,IAAI,GAC/D,IAAI,GAENxH,iBAAiB,CACd+U,MAAM,CAAC,UAAChY,IAAI;IAAA,OAAKA,IAAI,CAACC,IAAI,IAAI,KAAK;IAAC,CACpCgT,GAAG,CAAC,UAACjT,IAAI,EAAE8M,KAAK;IAAA,OACf+E,6CACM7R,IAAI,CAACwB,KAAK;MACdgQ,SAAS,GAAKxR,IAAI,CAACwB,KAAK,CAACgQ,SAAS,GAAGxR,IAAI,CAACwB,KAAK,CAACgQ,SAAS,GAAG,EAC1D,UAAI/F,MAAM,CAACyI,aAAe;MAC5B2F,OAAO,EAAE,SAAAA;QACP,IAAIC,SAAS;QAEb,IAAIlT,KAAK,EAAE;UACTkT,SAAS,GAAG/L,WAAW,CAAC9K,iBAAiB,CAACG,MAAM,EAAE0J,KAAK,CAAC;SACzD,MAAM;UACLgN,SAAS,GAAGhN,KAAK;;QAGnBwD,qBAAqB,CAACwJ,SAAS,CAAC;OACjC;MACD3G,GAAG,EAAErG;OACL;GACH,CAAC,EAELrC,SAAS,GAAGjJ,KAAK,CAAC0W,QAAQ,GAAG,KAAK,EACnCrG,oBAACkI,gCAAmB;IAAC9Z,IAAI,EAAC;KACxB4R,oBAACmI,4BAAe;IAACC,OAAO,EAAE;KACvBhY,SAAS,KAAK,KAAK,IAClB4P,oBAACqI,kBAAM,QACLrI,oBAACsI,QAAQ,QACPtI,oBAACuI,mBAAM,CAACC,GAAG;IACT7I,SAAS,OAAK/F,MAAM,CAAC6O,sBAAwB;IAC7CnH,GAAG,EAAC,wBAAwB;IAC5BhB,EAAE,EAAC,eAAe;IAClBH,KAAK,EAAE;MACL9H,eAAe,EAAEA;KAClB;IACD+P,OAAO,EAAE;MAAExZ,OAAO,EAAE,CAAC;MAAEwL,KAAK,EAAE;KAAM;IACpCsO,IAAI,EAAE;MAAE9Z,OAAO,EAAE,CAAC;MAAEwL,KAAK,EAAE;KAAM;IACjCuO,OAAO,EAAE;MAAE/Z,OAAO,EAAE,CAAC;MAAEwL,KAAK,EAAE;KAAG;IACjCwO,UAAU,EAAE;MACVC,QAAQ,EAAE;;KAGZ7I;IAAKL,SAAS,OAAK/F,MAAM,CAACkP,iBAAmB;IAAEd,OAAO,EAAE,SAAAA,QAAC/N,CAAC;MAAM,IAAIxF,gBAAgB,IAAI,cAAc,EAAE;QAAC6G,eAAe,CAACrB,CAAC,CAAC;;;KACzH+F;IACEL,SAAS,EAAK/F,MAAM,CAACmP,WAAW,UAAI7Z,SAAS,GAAG,EAAE,GAAGqO,YAAY,EAC/D,iBAAa;IACf4C,KAAK,EAAE;MAAE6I,KAAK,EAAE9Z;;KAEhB8Q,oBAACiJ,UAAU;IACTC,QAAQ,EAAE,WAAW;IACrBC,IAAI,EAAE,IAAI;IACVC,WAAW,EAAE,SAAAA;MACX/K,SAAS,EAAE;;IAEb,EACF2B,oBAACiJ,UAAU;IACTC,QAAQ,EAAE,YAAY;IACtBC,IAAI,EAAE,IAAI;IACVC,WAAW,EAAE,SAAAA;MACXhL,SAAS,EAAE;;IAEb,EACF4B,oBAACiJ,UAAU;IACTC,QAAQ,EAAE,QAAQ;IAClBC,IAAI,EAAE,IAAI;IACVC,WAAW,EAAE,SAAAA;MACX,IAAI,CAAC9S,mBAAmB,EAAE;QACxB2F,UAAU,EAAE;;;IAGhB,EAGF+D,oBAACiJ,UAAU;IACTC,QAAQ,EAAE,MAAM;IAChBC,IAAI,EAAE,IAAI;IACVC,WAAW,EAAE,SAAAA;MACX/K,SAAS,EAAE;;IAEb,EACF2B,oBAACiJ,UAAU;IACTC,QAAQ,EAAE,OAAO;IACjBC,IAAI,EAAE,IAAI;IACVC,WAAW,EAAE,SAAAA;MACXhL,SAAS,EAAE;;IAEb,EACF4B,oBAACiJ,UAAU;IACTC,QAAQ,EAAE,KAAK;IACfC,IAAI,EAAE,IAAI;IACVC,WAAW,EAAE,SAAAA;MACX,IAAI,CAAC9S,mBAAmB,EAAE;QACxB2F,UAAU,EAAE;;;IAGhB,EAEDlJ,YAAY,IACXiN;IAAKL,SAAS,OAAK/F,MAAM,CAAC4I;KACvBvR,WAAW,IACV8C,yBAAyB,IAAI,KAAK,GAAG,IAAI,GACzCiM,oBAACuI,mBAAM,CAACC,GAAG,QACTxI,oBAACqJ,0BAAM;IACLC,IAAI,EAAE,EAAE;IACRN,KAAK,EAAE9Z,SAAS,GAAGA,SAAS,GAAG+V,SAAS;IACxCtF,SAAS,EAAK/F,MAAM,CAAC2P,eAAe,UAAIra,SAAS,GAAG,EAAE,GAAGqO,YAAY,EACnE,CAAE;IACJ4C,KAAK,EAAEjR,SAAS,GAAG;MAAE8Z,KAAK,EAAE9Z;KAAW,GAAG,EAAE;IAC5C8Y,OAAO,EAAE,SAAAA;MACP,IAAIvR,qBAAqB,EAAE;QACzByI,mBAAmB,EAAE;;MAEvB,IAAIhH,cAAc,CAACqG,OAAO,CAACnH,OAAO,CAAC,IAAI,IAAI,EAAE;QAC3Cc,cAAc,CAACqG,OAAO,CAACnH,OAAO,CAAE,CAACoS,MAAM,EAAE;;;IAG7C,CAGL,EAEAvY,WAAW,IACV8C,yBAAyB,IAAI,KAAK,GAAG,IAAI,GACzCiM,oBAACuI,mBAAM,CAACC,GAAG,QACTxI,oBAACyJ,2BAAO;IACNH,IAAI,EAAE,EAAE;IACR3J,SAAS,EAAK/F,MAAM,CAAC2P,eAAe,UAAIra,SAAS,GAAG,EAAE,GAAGqO,YAAY,EACnE,CAAE;IACJ4C,KAAK,EAAEjR,SAAS,GAAG;MAAE8Z,KAAK,EAAE9Z;KAAW,GAAG,EAAE;IAC5C8Z,KAAK,EAAE9Z,SAAS,GAAGA,SAAS,GAAG+V,SAAS;IACxC+C,OAAO,EAAE,SAAAA;MACP9P,cAAc,CAACqG,OAAO,CAACnH,OAAO,CAAE,CAACsS,OAAO,EAAE;;IAE5C,CAEL,EAEAnP,kBAAkB,EAAE,GACnByF,oBAAC2J,4BAAQ;IACTL,IAAI,EAAE,EAAE;IACN3J,SAAS,EAAK/F,MAAM,CAAC2P,eAAe,UAAIra,SAAS,GAAG,EAAE,GAAGqO,YAAY,EACnE,CAAE;IACJ4C,KAAK,EAAEjR,SAAS,GAAG;MAAE8Z,KAAK,EAAE9Z;KAAW,GAAG,EAAE;IAC5C8Z,KAAK,EAAE9Z,SAAS,GAAGA,SAAS,GAAG+V,SAAS;IACxC+C,OAAO,EAAE,SAAAA;MACPrJ,SAAS,EAAE;;IAEb,GACA,IAAI,EAEPxL,qBAAqB,GACpBmD,mBAAmB,GACjB0J,oBAACuI,mBAAM,CAACC,GAAG,QACTxI,oBAAC4J,kCAAc;IACbN,IAAI,EAAE,EAAE;IACR3J,SAAS,EAAK/F,MAAM,CAAC2P,eAAe,UAAIra,SAAS,GAAG,EAAE,GAAGqO,YAAY,EACnE,CAAE;IACJ4C,KAAK,EAAEjR,SAAS,GAAG;MAAE8Z,KAAK,EAAE9Z;KAAW,GAAG,EAAE;IAC5C8Z,KAAK,EAAE9Z,SAAS,GAAGA,SAAS,GAAG+V,SAAS;IACxC+C,OAAO,EAAE,SAAAA;MACP1R,mBAAmB,GACfoG,cAAc,EAAE,GAChBpH,UAAU,EAAE;;IAElB,CACS,GAEb0K,oBAACuI,mBAAM,CAACC,GAAG,QACTxI,oBAAC6J,8BAAU;IACTP,IAAI,EAAE,EAAE;IACR3J,SAAS,EAAK/F,MAAM,CAAC2P,eAAe,UAAIra,SAAS,GAAG,EAAE,GAAGqO,YAAY,EACnE,CAAE;IACJ4C,KAAK,EAAEjR,SAAS,GAAG;MAAE8Z,KAAK,EAAE9Z;KAAW,GAAG,EAAE;IAC5C8Z,KAAK,EAAE9Z,SAAS,GAAGA,SAAS,GAAG+V,SAAS;IACxC+C,OAAO,EAAE,SAAAA;MACP1R,mBAAmB,GACfoG,cAAc,EAAE,GAChBpH,UAAU,EAAE;;IAElB,CAEL,GACC,IAAI,EAEP/B,oBAAoB,GACnByM,oBAACuI,mBAAM,CAACC,GAAG,QACTxI,oBAAC8J,4BAAQ;IACPR,IAAI,EAAE,EAAE;IACR3J,SAAS,EAAK/F,MAAM,CAAC2P,eAAe,UAAIra,SAAS,GAAG,EAAE,GAAGqO,YAAY,EACnE,CAAE;IACJ4C,KAAK,EAAEjR,SAAS,GAAG;MAAE8Z,KAAK,EAAE9Z;KAAW,GAAG,EAAE;IAC5C8Z,KAAK,EAAE9Z,SAAS,GAAGA,SAAS,GAAG+V,SAAS;IACxC+C,OAAO,EAAE,SAAAA;MACPhP,iBAAiB,CAAC,CAACD,cAAc,CAAC;;IAEpC,CACS,GACX,IAAI,EAEP6B,gCAAgC,EAAE,GACjCoF,oBAACuI,mBAAM,CAACC,GAAG,QACTxI,oBAAC+J,0BAAM;IACLT,IAAI,EAAE,EAAE;IACR3J,SAAS,EAAK/F,MAAM,CAAC2P,eAAe,UAAIra,SAAS,GAAG,EAAE,GAAGqO,YAAY,EACnE,CAAE;IACJ4C,KAAK,EAAEjR,SAAS,GAAG;MAAE8Z,KAAK,EAAE9Z;KAAW,GAAG,EAAE;IAC5C8Z,KAAK,EAAE9Z,SAAS,GAAGA,SAAS,GAAG+V,SAAS;IACxC+C,OAAO,EAAE,SAAAA;MAAA,OAAM9I,mBAAmB,EAAE;;IACpC,CACS,GACX,IAAI,EAEPnE,0BAA0B,EAAE,GAC3BiF,oBAACuI,mBAAM,CAACC,GAAG;IAAC7I,SAAS,EAAE/F,MAAM,CAACoQ;KAC3BzZ,kBAAkB,GACjByP,oBAACiK,mCAAe;IACdX,IAAI,EAAE,EAAE;IACR3J,SAAS,EAAK/F,MAAM,CAAC2P,eAAe,UAAIra,SAAS,GAAG,EAAE,GAAGqO,YAAY,EACnE,CAAE;IACJ4C,KAAK,EAAEjR,SAAS,GAAG;MAAE8Z,KAAK,EAAE9Z;KAAW,GAAG,EAAE;IAC5C8Z,KAAK,EAAE9Z,SAAS,GAAGA,SAAS,GAAG+V,SAAS;IACxC+C,OAAO,EAAE,SAAAA;MACPzX,kBAAkB,GACdyO,aAAa,EAAE,GACfD,aAAa,EAAE;;IAErB,GAEFiB,oBAACkK,kCAAc;IACbZ,IAAI,EAAE,EAAE;IACR3J,SAAS,EAAK/F,MAAM,CAAC2P,eAAe,UAAIra,SAAS,GAAG,EAAE,GAAGqO,YAAY,EACnE,CAAE;IACJ4C,KAAK,EAAEjR,SAAS,GAAG;MAAE8Z,KAAK,EAAE9Z;KAAW,GAAG,EAAE;IAC5C8Z,KAAK,EAAE9Z,SAAS,GAAGA,SAAS,GAAG+V,SAAS;IACxC+C,OAAO,EAAE,SAAAA;MACPzX,kBAAkB,GACdyO,aAAa,EAAE,GACfD,aAAa,EAAE;;IAGxB,CACU,GACX,IAAI,CAEX,EACDiB,oBAACuI,mBAAM,CAACC,GAAG;IAAC7I,SAAS,EAAE/F,MAAM,CAACuQ;KAC5BnK,oBAACoK,uBAAG;IACFd,IAAI,EAAE,EAAE;IACR3J,SAAS,EAAK/F,MAAM,CAAC2P,eAAe,UAAIra,SAAS,GAAG,EAAE,GAAGqO,YAAY,EACnE,CAAE;IACJyL,KAAK,EAAE9Z,SAAS,GAAGA,SAAS,GAAG+V,SAAS;IACxC9E,KAAK,EAAEjR,SAAS,GAAG;MAAE8Z,KAAK,EAAE9Z;KAAW,GAAG,EAAE;IAC5C8Y,OAAO,EAAE,SAAAA;MACP/L,UAAU,EAAE;;IAEd,CACS,CACL,EACTe,aAAa,EAAE,GAEdgD,iCACEA;IACEL,SAAS,EACP1N,eAAe,GACR2H,MAAM,CAACyQ,KAAK,SAAIjN,aAAa,EAAE,mBAClC,YAAY;IAElB+C,KAAK,EAAElO,eAAe;IACtB+V,OAAO,EAAE,SAAAA;MACP5J,SAAS,EAAE;;KAGZjK,aAAa,GAAGA,aAAa,GAC5B6L;IAAML,SAAS,QAAKhQ,KAAK,CAAC2a,mBAAmB,GAAG3a,KAAK,CAAC2a,mBAAmB,GAAG,EAAE;cAAmB,CAE/F,EACNtK;IACEL,SAAS,EACPxN,cAAc,GACPyH,MAAM,CAAC2Q,KAAK,SAAInN,aAAa,EAAE,mBAClC,YAAY;IAElB+C,KAAK,EAAEhO,cAAc;IACrB6V,OAAO,EAAE,SAAAA;MACP3J,SAAS,EAAE;;KAGZ/J,aAAa,GAAGA,aAAa,GAC5B0L;IAAML,SAAS,QAAKhQ,KAAK,CAAC6a,kBAAkB,GAAG7a,KAAK,CAAC6a,kBAAkB,GAAG,EAAE;cAAmB,CAE7F,CACF,GACJ,IAAI,EAGRxK,oBAACmI,4BAAe;IAACC,OAAO,EAAE,KAAK;IAAEqC,MAAM,EAAExa;KACvC+P,oBAAC0K,UAAU;IACT/K,SAAS,GAAK5G,cAAc,GACtBa,MAAM,CAAC+Q,iCAAiC,GACxC,EACJ,WAAItQ,cAAc,EAAE,GAAGT,MAAM,CAACgR,oBAAoB,GAAG,EACrD,iCACJjb,KAAK,CAAC2F,UAAU,GACRsE,MAAM,CAACiR,iCAAiC,GACxCjR,MAAM,CAACkR,uBACX,QAAI;IACNC,YAAY,EAAEnZ,iBAAiB;IAC/BoI,GAAG,EAAE,SAAAA,IAAC8H,EAAE;MAAA,OAAMjF,YAAY,GAAGiF,EAAE;KAAC;IAChCkJ,UAAU,EAAEta,MAAM,CAACa;KAElBmR,mBAAmB,CACT,EAEZ7M,aAAa,IAAI,IAAI,IAAI,CAAC4L,WAAW,CAACnQ,UAAU,CAAC,GAChD0O;IACEsB,GAAG,EAAC,QAAQ;IACZ3B,SAAS,EAAK/F,MAAM,CAACqR,MACnB,SAAIvR,mBAAmB;IACnB,GACN,IAAI,CACQ,EAElBsG;IACEL,SAAS,EAAK/F,MAAM,CAACsR,wBAAwB,UAAI7Q,cAAc,EAAE,GAAGT,MAAM,CAACuR,oBAAoB,GAAG,EAAE,CAAE;IACtGhL,KAAK,EACH9F,cAAc,EAAE,GACZ;MACAhC,eAAe,EAAEA;KAClB,GACC;KAGLgC,cAAc,EAAE,IAAI,CAAChI,QAAQ,GAC5B2N;IAAKL,SAAS,EAAK/F,MAAM,CAACwR,iBAAiB;KACzCpL;IACEL,SAAS,OAAK/F,MAAM,CAACyR,QAAU;IAC/B/J,GAAG,EAAE,YAAY,GAAGhQ,UAAU;IAC9B6O,KAAK,EACHxQ,KAAK,CAAC2b,YAAY,GACd3b,KAAK,CAAC2b,YAAY,GAClB;MAAEtC,KAAK,EAAE5Z;;KAGd+N,eAAe,EAAE,CAChB,CACA,GACJ,IAAI,EAER6C,oBAACmI,4BAAe;IAACC,OAAO,EAAEjP;KACvBJ,cAAc,KAAK,KAAK,IACvBiH,oBAACuI,mBAAM,CAACC,GAAG;IACTJ,OAAO,EAAE,QAAQ;IACjBM,IAAI,EAAE,QAAQ;IACdC,OAAO,EAAE,SAAS;IAClBxI,KAAK,EACHvJ,YAAY,GAAG,EAAE,GAAG;MAAEiN,OAAO,EAAE;KAAiB;IAElD+E,UAAU,EAAE;MACVxa,IAAI,EAAE,QAAQ;MACdya,QAAQ,EAAE;KACX;IACD0C,QAAQ,EAAE7c,iBAAiB;IAC3BiR,SAAS,EAAK/F,MAAM,CAAC4R,UAAU,UAAInR,cAAc,EAAE,GAC7CT,MAAM,CAAC6R,qBAAqB,GAC5B,EACJ;KAEFzL,oBAAC0L,eAAe;IACd/L,SAAS,EAAC,kBAAkB;IAC5BgM,QAAQ,EAAE,IAAI;IACdC,UAAU,EAAE,KAAK;IACjBC,cAAc,EAAE;KAEf3W,WAAW,IAAI,MAAM,IAEpBvF,KAAK,CAACe,MAAM,GACVf,KAAK,CAACe,MAAM,CAAC0Q,GAAG,CAAC,UAAC/B,GAAG,EAAEpE,KAAK;IAAA,OAC5B+E;MACEL,SAAS,EAAK/F,MAAM,CAAC0F,SAAS,gBAAa;MAC3CR,GAAG,EAAES,sBAAsB,CAACF,GAAG,EAAEpE,KAAK,CAAC;MACvCkF,KAAK,EACH7O,UAAU,KAAK2J,KAAK,GAChB;QAAE6Q,MAAM,EAAE3c;OAAiB,GAC3B;QAAE2c,MAAM,EAAEvc;OAAyB;MAEzC+R,GAAG,EAAErG,KAAK;MACV+M,OAAO,EAAE,SAAAA;QACPhN,cAAc,CAACC,KAAK,CAAC;OACtB;MACD8L,GAAG,EAAE1H,GAAG,CAAC0H,GAAG;MACZ1G,MAAM,EAAE,SAAAA;QAAA,OAAMxJ,eAAe,CAAC,IAAI,CAAC;;MACnC;GACH,CAAC,GAEFnG,MAAM,CAAC0Q,GAAG,CAAC,UAAC/B,GAAG,EAAEpE,KAAK;IAAA,OACpB+E;MACElB,GAAG,EAAEM,kBAAkB,CAACC,GAAG,EAAEpE,KAAK,CAAC;MACnCkF,KAAK,EACH7O,UAAU,KAAK2J,KAAK,GAChB;QAAE6Q,MAAM,EAAE3c;OAAiB,GAC3B;QAAE2c,MAAM,EAAEvc;OAAyB;MAEzCoQ,SAAS,EAAK/F,MAAM,CAAC0F,SAAS,gBAAa;MAC3CgC,GAAG,EAAErG,KAAK;MACV+M,OAAO,EAAE,SAAAA;QACPhN,cAAc,CAACC,KAAK,CAAC;OACtB;MACD8L,GAAG,EAAE1H,GAAG,CAAC0H,GAAG;MACZ1G,MAAM,EAAE,SAAAA;QAAA,OAAMxJ,eAAe,CAAC,IAAI,CAAC;;MACnC;GACH,CAAC,CACY,CAErB,CACe,CACd,CACF,CACK,CACJ,CAEd,CACe,CACE,CAClB,CACF;AACR,CAAC;;AC/1DD,IAAM9H,QAAM,GAAQ;EAClBC,GAAG,EAAE;IACHC,UAAU,EAAE,OAAO;IACnBC,SAAS,EAAE,OAAO;IAClBC,eAAe,EAAE,uBAAuB;IACxCC,SAAS,EAAE;GACZ;EACDC,KAAK,EAAE;IACLJ,UAAU,EAAE,SAAS;IACrBC,SAAS,EAAE,QAAQ;IACnBC,eAAe,EAAE,+BAA+B;IAChDC,SAAS,EAAE;GACZ;EACDE,QAAQ,EAAE;IACRL,UAAU,EAAE,wBAAwB;IACpCC,SAAS,EAAE,QAAQ;IACnBC,eAAe,EAAE,8BAA8B;IAC/CC,SAAS,EAAE;;CAEd;AACD,IAAMI,cAAY,GAAG,UAAU;AAE/B,IAAauc,SAAS,GAAG,SAAZA,SAASA,CAAIpc,KAAK;EAC7B,IAAAE,SAAA,GAA8CC,cAAQ,CAACH,KAAK,CAAC0I,eAAe,GAAG1I,KAAK,CAAC0I,eAAe,GAAGtJ,QAAM,CAACS,cAAY,CAAC,CAACP,UAAU,CAAC;IAAhIoJ,eAAe,GAAAxI,SAAA;IAAEyI,kBAAkB,GAAAzI,SAAA;EAC1C,IAAAM,UAAA,GAAkCL,cAAQ,CAACH,KAAK,CAACT,SAAS,GAAGS,KAAK,CAACT,SAAS,GAAGH,QAAM,CAACS,cAAY,CAAC,CAACN,SAAS,CAAC;IAAvGA,SAAS,GAAAiB,UAAA;IAAE6b,YAAY,GAAA7b,UAAA;EAC9B,IAAA8b,eAAA,GAA0BjM,cAAK,CAAClQ,QAAQ,EAAE;IAAnCqK,KAAK,GAAA8R,eAAA;EAEZxE,eAAS,CAAC;IAEN,IAAI9X,KAAK,CAACgK,KAAK,EAAE;MACf,IAAI5K,QAAM,CAACY,KAAK,CAACgK,KAAK,CAAC,EAAE;QACvBrB,kBAAkB,CAACvJ,QAAM,CAACY,KAAK,CAACgK,KAAK,CAAC,CAAC1K,UAAU,CAAC;QAClD+c,YAAY,CAACjd,QAAM,CAACY,KAAK,CAACgK,KAAK,CAAC,CAACzK,SAAS,CAAC;;;IAI/C,OAAO,cACN;GAEJ,EAAE,CAACiL,KAAK,CAAC,CAAC;EAET,OACI6F,6BAACtQ,iBAAiB;IAAC2I,eAAe,EAAEA,eAAe;IAAEnJ,SAAS,EAAEA,SAAS;IAAE6J,cAAc,EAAE,KAAK;IAChGY,KAAK,EAAEhK,KAAK,CAACgK,KAAK;IAChBsD,UAAU,EAAE,KAAK;IAAE3J,iBAAiB,EAAE,KAAK;IAAEI,iBAAiB,EAAE;KAC9DsM;IAAKlB,GAAG,EAAEnP,KAAK,CAACuc,KAAK,CAACpN,GAAG;IAAEiI,GAAG,EAAEpX,KAAK,CAACuc,KAAK,CAACnK;IAAS,CACrC;AAG5B,CAAC;;ICdYoK,cAAc,GAAG,SAAjBA,cAAcA,CAAI1W,UAAkB,EAAE2W,SAAiB;EAClE,IAAIC,IAAI,GAAG;IACTC,WAAW,EAAE7W,UAAU;IACvB2W,SAAS,EAAEA;GACZ;EAEDG,KAAK,CAACC,IAAI,CAAC,iDAAiD,EAAEH,IAAI,CAAC,CAChEI,IAAI,CAAC,UAAUC,QAAQ;IAEtB,IAAIC,eAAe,GAAGD,QAAQ,CAACE,IAAI,CAACC,aAAa;IAEjD,IAAI,CAACF,eAAe,EAAE;MACpB7E,OAAO,CAACgF,IAAI,CAAC,mFAAmF,CAAC;;GAEpG,CAAC,SACI,CAAC,UAAU/E,KAAK;IACpBD,OAAO,CAACiF,GAAG,CAAChF,KAAK,CAAC;GACnB,CAAC;AAEN,CAAC;;;;;;"}